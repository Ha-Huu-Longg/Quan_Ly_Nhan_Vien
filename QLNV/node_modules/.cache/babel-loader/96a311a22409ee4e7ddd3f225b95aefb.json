{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\DATA\\\\QL_NV\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _objectSpread from \"D:\\\\DATA\\\\QL_NV\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"D:\\\\DATA\\\\QL_NV\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:\\\\DATA\\\\QL_NV\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\DATA\\\\QL_NV\\\\QLNV\\\\src\\\\app\\\\views\\\\EndStaff\\\\index.jsx\";\n\nimport { HomeFilled } from '@ant-design/icons';\nimport { Breadcrumb, Form } from 'antd';\nimport React from 'react';\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { updateStatusEndStaff } from 'app/redux/actions/EndStaffActions';\nimport EndStaffModal from './EndStaffModal';\nimport EndStaffModalSaveRecords from './EndStaffModalSaveRecords';\nimport EndStaffTable from './EndStaffTable';\nimport { getListStaff, getPageCreateStaff, getTotalStaff } from 'app/redux/actions/CreateStaffAction';\nimport { recordedStatus } from '../GeneralSettings/constant';\n\nvar EndStaff = function EndStaff() {\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      employeeInfo = _useState2[0],\n      setEmployeeInfo = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      informationForm = _useState4[0],\n      setInformationForm = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      openModalSaveRecords = _useState6[0],\n      setOpenModalSaveRecords = _useState6[1];\n\n  var _Form$useForm = Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var dispatch = useDispatch();\n  var StaffList = useSelector(function (state) {\n    return state.createStaff.StaffList;\n  });\n  var total = useSelector(function (state) {\n    return state.createStaff.total;\n  });\n  var reRender = useSelector(function (state) {\n    return state.createStaff.reRender;\n  });\n  var page = useSelector(function (state) {\n    return state.createStaff.page;\n  });\n  var pageSize = useSelector(function (state) {\n    return state.createStaff.pageSize;\n  });\n  var statuses = [10, 13];\n  useEffect(function () {\n    dispatch(getListStaff(page, pageSize, statuses));\n  }, [reRender, page, pageSize]);\n  useEffect(function () {\n    dispatch(getTotalStaff(statuses));\n  }, []);\n\n  var handlePaginationChange = function handlePaginationChange(page, pageSize) {\n    dispatch(getPageCreateStaff(page, pageSize));\n  };\n\n  var handleSubmitProfile = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(value) {\n      var data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              data = _objectSpread(_objectSpread({\n                employeeId: employeeInfo === null || employeeInfo === void 0 ? void 0 : employeeInfo.employeeId\n              }, value), {}, {\n                status: recordedStatus\n              });\n              dispatch(updateStatusEndStaff(data, handleClose));\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmitProfile(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleShowFormInformation = function handleShowFormInformation() {\n    setInformationForm(!informationForm);\n  };\n\n  var handleOpenModalSaveRecords = function handleOpenModalSaveRecords() {\n    setOpenModalSaveRecords(!openModalSaveRecords);\n    form.resetFields();\n  };\n\n  var handleClose = function handleClose() {\n    handleShowFormInformation();\n    handleOpenModalSaveRecords();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"m-sm-30 approved_staff\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb, {\n    className: \"breadcrumb-body\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    href: \"/\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(HomeFilled, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    href: \"/endStaff/manage\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  }, \"Qu\\u1EA3n l\\xFD nh\\xE2n vi\\xEAn\")), /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }, \"K\\u1EBFt th\\xFAc\")), /*#__PURE__*/React.createElement(EndStaffTable, {\n    page: page,\n    total: total,\n    pageSize: pageSize,\n    StaffList: StaffList,\n    setEmployeeInfo: setEmployeeInfo,\n    handlePaginationChange: handlePaginationChange,\n    handleShowFormInformation: handleShowFormInformation,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }), informationForm && /*#__PURE__*/React.createElement(EndStaffModal, {\n    open: informationForm,\n    employeeInfo: employeeInfo,\n    onOk: handleOpenModalSaveRecords,\n    onCancel: handleShowFormInformation,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 36\n    }\n  }), openModalSaveRecords && /*#__PURE__*/React.createElement(EndStaffModalSaveRecords, {\n    form: form,\n    onOk: handleSubmitProfile,\n    open: openModalSaveRecords,\n    onCancel: handleOpenModalSaveRecords,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 41\n    }\n  }));\n};\n\nexport default EndStaff;","map":{"version":3,"sources":["D:/DATA/QL_NV/QLNV/src/app/views/EndStaff/index.jsx"],"names":["HomeFilled","Breadcrumb","Form","React","useEffect","useState","useDispatch","useSelector","updateStatusEndStaff","EndStaffModal","EndStaffModalSaveRecords","EndStaffTable","getListStaff","getPageCreateStaff","getTotalStaff","recordedStatus","EndStaff","employeeInfo","setEmployeeInfo","informationForm","setInformationForm","openModalSaveRecords","setOpenModalSaveRecords","useForm","form","dispatch","StaffList","state","createStaff","total","reRender","page","pageSize","statuses","handlePaginationChange","handleSubmitProfile","value","data","employeeId","status","handleClose","handleShowFormInformation","handleOpenModalSaveRecords","resetFields"],"mappings":"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","sourcesContent":["import { HomeFilled } from '@ant-design/icons';\r\nimport { Breadcrumb, Form } from 'antd';\r\nimport React from 'react';\r\nimport { useEffect } from 'react';\r\nimport { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { updateStatusEndStaff } from 'app/redux/actions/EndStaffActions';\r\nimport EndStaffModal from './EndStaffModal';\r\nimport EndStaffModalSaveRecords from './EndStaffModalSaveRecords';\r\nimport EndStaffTable from './EndStaffTable';\r\nimport { getListStaff, getPageCreateStaff, getTotalStaff } from 'app/redux/actions/CreateStaffAction';\r\nimport { recordedStatus } from '../GeneralSettings/constant';\r\n\r\nconst EndStaff = () => {\r\n    const [employeeInfo, setEmployeeInfo] = useState({});\r\n    const [informationForm, setInformationForm] = useState(false);\r\n    const [openModalSaveRecords, setOpenModalSaveRecords] = useState(false);\r\n\r\n    const [form] = Form.useForm();\r\n    const dispatch = useDispatch()\r\n    const StaffList = useSelector((state) => state.createStaff.StaffList)\r\n    const total = useSelector((state) => state.createStaff.total)\r\n    const reRender = useSelector((state) => state.createStaff.reRender);\r\n    const page = useSelector((state) => state.createStaff.page);\r\n    const pageSize = useSelector((state) => state.createStaff.pageSize);\r\n    const statuses = [10, 13]\r\n\r\n    useEffect(() => {\r\n        dispatch(getListStaff(page, pageSize, statuses))\r\n    }, [reRender, page, pageSize])\r\n\r\n    useEffect(() => {\r\n        dispatch(getTotalStaff(statuses))\r\n    }, [])\r\n\r\n    const handlePaginationChange = (page, pageSize) => {\r\n        dispatch(getPageCreateStaff(page, pageSize))\r\n    };\r\n\r\n    const handleSubmitProfile = async (value) => {\r\n        const data = {\r\n            employeeId: employeeInfo?.employeeId,\r\n            ...value,\r\n            status: recordedStatus,\r\n        };\r\n\r\n        dispatch(updateStatusEndStaff(data, handleClose))\r\n    };\r\n\r\n    const handleShowFormInformation = () => {\r\n        setInformationForm(!informationForm);\r\n    };\r\n\r\n    const handleOpenModalSaveRecords = () => {\r\n        setOpenModalSaveRecords(!openModalSaveRecords)\r\n        form.resetFields();\r\n    };\r\n\r\n    const handleClose = () => {\r\n        handleShowFormInformation()\r\n        handleOpenModalSaveRecords()\r\n    }\r\n\r\n    return (\r\n        <div className=\"m-sm-30 approved_staff\">\r\n            <Breadcrumb className='breadcrumb-body'>\r\n                <Breadcrumb.Item href=\"/\">\r\n                    <HomeFilled />\r\n                </Breadcrumb.Item>\r\n                <Breadcrumb.Item href=\"/endStaff/manage\">\r\n                    <span>Quản lý nhân viên</span>\r\n                </Breadcrumb.Item>\r\n                <Breadcrumb.Item>Kết thúc</Breadcrumb.Item>\r\n            </Breadcrumb>\r\n\r\n            <EndStaffTable\r\n                page={page}\r\n                total={total}\r\n                pageSize={pageSize}\r\n                StaffList={StaffList}\r\n                setEmployeeInfo={setEmployeeInfo}\r\n                handlePaginationChange={handlePaginationChange}\r\n                handleShowFormInformation={handleShowFormInformation}\r\n            />\r\n\r\n            {\r\n                informationForm && <EndStaffModal\r\n                    open={informationForm}\r\n                    employeeInfo={employeeInfo}\r\n                    onOk={handleOpenModalSaveRecords}\r\n                    onCancel={handleShowFormInformation}\r\n                />\r\n            }\r\n\r\n            {\r\n                openModalSaveRecords && <EndStaffModalSaveRecords\r\n                    form={form}\r\n                    onOk={handleSubmitProfile}\r\n                    open={openModalSaveRecords}\r\n                    onCancel={handleOpenModalSaveRecords}\r\n                />\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default EndStaff;\r\n"]},"metadata":{},"sourceType":"module"}