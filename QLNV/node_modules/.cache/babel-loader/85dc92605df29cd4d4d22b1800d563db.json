{"ast":null,"code":"import _objectSpread from \"D:\\\\DATA\\\\QL_NV\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"D:\\\\DATA\\\\QL_NV\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\DATA\\\\QL_NV\\\\QLNV\\\\src\\\\app\\\\views\\\\UpdateHappenings\\\\SalaryIncrease\\\\index.jsx\";\nimport { Button, Col, DatePicker, Form, Input, Row } from 'antd';\nimport moment from 'moment';\nimport React, { useEffect, useState } from 'react';\nimport SalaryIncreaseModal from './SalaryIncreaseModal';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addSalary, deleteSalary, getListSalary, updateSalary } from 'app/redux/actions/UpdateHappeningsActions';\nimport SalaryIncreaseTable from './SalaryIncreaseTable';\nimport ModalDelete from 'app/views/GeneralSettings/ModalDelete';\nimport ModalSendLeader from 'app/views/GeneralSettings/ModalSendLeader';\nimport { number, required } from 'app/views/GeneralSettings/constant';\nvar TextArea = Input.TextArea;\n\nfunction SalaryIncreaseCollapse(_ref) {\n  var formRef = _ref.formRef,\n      employeeInfo = _ref.employeeInfo;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      salaryForm = _useState2[0],\n      setSalaryForm = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      modalDelete = _useState4[0],\n      setModalDelete = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      salaryId = _useState6[0],\n      setSalaryId = _useState6[1];\n\n  var _useState7 = useState({}),\n      _useState8 = _slicedToArray(_useState7, 2),\n      staffDataSalary = _useState8[0],\n      setStaffDataSalary = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      sendLeader = _useState10[0],\n      setSendLeader = _useState10[1];\n\n  var _Form$useForm = Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var SalaryList = useSelector(function (state) {\n    return state.updateEmployee.SalaryList;\n  });\n  var salaryRender = useSelector(function (state) {\n    return state.updateEmployee.salaryRender;\n  });\n  var dispatch = useDispatch();\n  useEffect(function () {\n    dispatch(getListSalary(employeeInfo));\n  }, [salaryRender]);\n\n  var handleChangeIncreaseSalary = function handleChangeIncreaseSalary(record) {\n    setSalaryId({\n      action: 'update',\n      id: record.salaryId\n    });\n    form.setFieldsValue({\n      salaryScale: record === null || record === void 0 ? void 0 : record.salaryScale,\n      reason: record === null || record === void 0 ? void 0 : record.reason,\n      note: record === null || record === void 0 ? void 0 : record.note,\n      count: record === null || record === void 0 ? void 0 : record.count,\n      date: moment(record === null || record === void 0 ? void 0 : record.date)\n    });\n  };\n\n  var submitFormSalary = function submitFormSalary(values) {\n    var staffData = _objectSpread(_objectSpread({\n      employeeId: employeeInfo === null || employeeInfo === void 0 ? void 0 : employeeInfo.employeeId\n    }, SalaryList), values);\n\n    setStaffDataSalary(staffData);\n\n    if (!(salaryId === null || salaryId === void 0 ? void 0 : salaryId.id)) {\n      dispatch(addSalary(staffData));\n      handleShowSalaryForm();\n      form.resetFields();\n    } else {\n      dispatch(updateSalary(_objectSpread(_objectSpread({}, staffData), {}, {\n        salaryId: salaryId === null || salaryId === void 0 ? void 0 : salaryId.id\n      })));\n      handleShowSalaryForm();\n      form.resetFields();\n    }\n  };\n\n  var handleOpenModalDeleteSalary = function handleOpenModalDeleteSalary(id) {\n    setModalDelete(!modalDelete);\n    setSalaryId({\n      action: '',\n      id: id\n    });\n  };\n\n  var handleDelete = function handleDelete() {\n    dispatch(deleteSalary(salaryId === null || salaryId === void 0 ? void 0 : salaryId.id));\n    setModalDelete(!modalDelete);\n    form.resetFields();\n  };\n\n  var onReset = function onReset() {\n    form.resetFields();\n    setSalaryId(null);\n  };\n\n  var handleShowSalaryForm = function handleShowSalaryForm() {\n    setSalaryForm(!salaryForm);\n  };\n\n  var handleSendLeader = function handleSendLeader() {\n    setSendLeader(!sendLeader);\n  };\n\n  var handleClear = function handleClear() {\n    setSalaryForm(false);\n    setSendLeader(false);\n    setSalaryId(null);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-form-layout\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onFinish: submitFormSalary,\n    ref: formRef,\n    form: form,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 24,\n    md: 12,\n    xl: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"count\",\n    label: \"L\\u1EA7n th\\u1EE9\",\n    rules: [required, number],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    span: 24,\n    md: 12,\n    xl: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"salaryScale\",\n    label: \"B\\u1EADc\",\n    rules: [required],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    span: 24,\n    md: 12,\n    xl: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"date\",\n    label: \"Ng\\xE0y t\\u0103ng l\\u01B0\\u01A1ng\",\n    rules: [required],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(DatePicker, {\n    disabledDate: function disabledDate(current) {\n      return current && current.valueOf() === Date.now();\n    },\n    placeholder: \"YYYY-MM-DD\",\n    format: \"YYYY-MM-DD\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    span: 24,\n    md: 12,\n    xl: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"note\",\n    label: \"Ghi ch\\xFA\",\n    rules: [required],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    span: 24,\n    md: 12,\n    xl: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"reason\",\n    label: \"L\\xFD do t\\u0103ng l\\u01B0\\u01A1ng\",\n    rules: [required],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(TextArea, {\n    autoSize: {\n      minRows: 1,\n      maxRows: 3\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    span: 24,\n    md: 12,\n    xl: 12,\n    className: \"flexEnd mt-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"add-form\",\n    type: \"primary\",\n    htmlType: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 29\n    }\n  }, (salaryId === null || salaryId === void 0 ? void 0 : salaryId.action) === 'update' ? 'LƯU' : 'THÊM'), /*#__PURE__*/React.createElement(Button, {\n    className: \"cancel-form\",\n    htmlType: \"button\",\n    onClick: onReset,\n    type: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 29\n    }\n  }, \"H\\u1EE6Y\"))))), /*#__PURE__*/React.createElement(SalaryIncreaseTable, {\n    handleChangeIncreaseSalary: handleChangeIncreaseSalary,\n    handleOpenModalDeleteSalary: handleOpenModalDeleteSalary,\n    SalaryList: SalaryList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }\n  }), salaryForm && /*#__PURE__*/React.createElement(SalaryIncreaseModal, {\n    open: salaryForm,\n    onCancel: handleClear,\n    employeeInfo: employeeInfo,\n    staffDataSalary: staffDataSalary,\n    onSend: handleSendLeader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 28\n    }\n  }), modalDelete && /*#__PURE__*/React.createElement(ModalDelete, {\n    open: modalDelete,\n    onCancel: handleOpenModalDeleteSalary,\n    onOk: handleDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 29\n    }\n  }), sendLeader && /*#__PURE__*/React.createElement(ModalSendLeader, {\n    open: sendLeader,\n    onCancel: handleSendLeader,\n    employeeId: employeeInfo === null || employeeInfo === void 0 ? void 0 : employeeInfo.employeeId,\n    onClose: handleClear,\n    status: 16,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 28\n    }\n  }));\n}\n\nexport default SalaryIncreaseCollapse;","map":{"version":3,"sources":["D:/DATA/QL_NV/QLNV/src/app/views/UpdateHappenings/SalaryIncrease/index.jsx"],"names":["Button","Col","DatePicker","Form","Input","Row","moment","React","useEffect","useState","SalaryIncreaseModal","useDispatch","useSelector","addSalary","deleteSalary","getListSalary","updateSalary","SalaryIncreaseTable","ModalDelete","ModalSendLeader","number","required","TextArea","SalaryIncreaseCollapse","formRef","employeeInfo","salaryForm","setSalaryForm","modalDelete","setModalDelete","salaryId","setSalaryId","staffDataSalary","setStaffDataSalary","sendLeader","setSendLeader","useForm","form","SalaryList","state","updateEmployee","salaryRender","dispatch","handleChangeIncreaseSalary","record","action","id","setFieldsValue","salaryScale","reason","note","count","date","submitFormSalary","values","staffData","employeeId","handleShowSalaryForm","resetFields","handleOpenModalDeleteSalary","handleDelete","onReset","handleSendLeader","handleClear","current","valueOf","Date","now","minRows","maxRows"],"mappings":"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","sourcesContent":["import { Button, Col, DatePicker, Form, Input, Row } from 'antd';\r\nimport moment from 'moment';\r\nimport React, { useEffect, useState } from 'react';\r\nimport SalaryIncreaseModal from './SalaryIncreaseModal';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { addSalary, deleteSalary, getListSalary, updateSalary } from 'app/redux/actions/UpdateHappeningsActions';\r\nimport SalaryIncreaseTable from './SalaryIncreaseTable';\r\nimport ModalDelete from 'app/views/GeneralSettings/ModalDelete';\r\nimport ModalSendLeader from 'app/views/GeneralSettings/ModalSendLeader';\r\nimport { number, required } from 'app/views/GeneralSettings/constant';\r\n\r\nconst { TextArea } = Input;\r\n\r\nfunction SalaryIncreaseCollapse({ formRef, employeeInfo }) {\r\n    const [salaryForm, setSalaryForm] = useState(false);\r\n    const [modalDelete, setModalDelete] = useState(false);\r\n    const [salaryId, setSalaryId] = useState(null);\r\n    const [staffDataSalary, setStaffDataSalary] = useState({});\r\n    const [sendLeader, setSendLeader] = useState(false);\r\n\r\n    const [form] = Form.useForm();\r\n    const SalaryList = useSelector((state) => state.updateEmployee.SalaryList);\r\n    const salaryRender = useSelector((state) => state.updateEmployee.salaryRender);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch(getListSalary(employeeInfo));\r\n    }, [salaryRender]);\r\n\r\n    const handleChangeIncreaseSalary = (record) => {\r\n        setSalaryId({\r\n            action: 'update',\r\n            id: record.salaryId,\r\n        });\r\n\r\n        form.setFieldsValue({\r\n            salaryScale: record?.salaryScale,\r\n            reason: record?.reason,\r\n            note: record?.note,\r\n            count: record?.count,\r\n            date: moment(record?.date),\r\n        });\r\n    };\r\n\r\n    const submitFormSalary = (values) => {\r\n        const staffData = {\r\n            employeeId: employeeInfo?.employeeId,\r\n            ...SalaryList,\r\n            ...values,\r\n        };\r\n\r\n        setStaffDataSalary(staffData);\r\n        if (!salaryId?.id) {\r\n            dispatch(addSalary(staffData));\r\n            handleShowSalaryForm();\r\n            form.resetFields();\r\n        } else {\r\n            dispatch(updateSalary({ ...staffData, salaryId: salaryId?.id }));\r\n            handleShowSalaryForm();\r\n            form.resetFields();\r\n        }\r\n    };\r\n\r\n    const handleOpenModalDeleteSalary = (id) => {\r\n        setModalDelete(!modalDelete);\r\n        setSalaryId({\r\n            action: '',\r\n            id,\r\n        });\r\n    };\r\n\r\n    const handleDelete = () => {\r\n        dispatch(deleteSalary(salaryId?.id));\r\n        setModalDelete(!modalDelete);\r\n        form.resetFields();\r\n    };\r\n\r\n    const onReset = () => {\r\n        form.resetFields();\r\n        setSalaryId(null);\r\n    };\r\n\r\n    const handleShowSalaryForm = () => {\r\n        setSalaryForm(!salaryForm);\r\n    };\r\n\r\n    const handleSendLeader = () => {\r\n        setSendLeader(!sendLeader);\r\n    };\r\n\r\n    const handleClear = () => {\r\n        setSalaryForm(false);\r\n        setSendLeader(false);\r\n        setSalaryId(null);\r\n    };\r\n    return (\r\n        <div className=\"content-form-layout\">\r\n            <Form onFinish={submitFormSalary} ref={formRef} form={form}>\r\n                <Row>\r\n                    <Col span={24} md={12} xl={3}>\r\n                        <Form.Item name=\"count\" label=\"Lần thứ\" rules={[required, number]}>\r\n                            <Input />\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col span={24} md={12} xl={4}>\r\n                        <Form.Item name=\"salaryScale\" label=\"Bậc\" rules={[required]}>\r\n                            <Input />\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col span={24} md={12} xl={5}>\r\n                        <Form.Item name=\"date\" label=\"Ngày tăng lương\" rules={[required]}>\r\n                            <DatePicker\r\n                                disabledDate={(current) => {\r\n                                    return current && current.valueOf() === Date.now();\r\n                                }}\r\n                                placeholder=\"YYYY-MM-DD\"\r\n                                format=\"YYYY-MM-DD\"\r\n                            />\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col span={24} md={12} xl={12}>\r\n                        <Form.Item name=\"note\" label=\"Ghi chú\" rules={[required]}>\r\n                            <Input />\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col span={24} md={12} xl={12}>\r\n                        <Form.Item name=\"reason\" label=\"Lý do tăng lương\" rules={[required]}>\r\n                            <TextArea\r\n                                autoSize={{\r\n                                    minRows: 1,\r\n                                    maxRows: 3,\r\n                                }}\r\n                            />\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col span={24} md={12} xl={12} className=\"flexEnd mt-10\">\r\n                        <Form.Item>\r\n                            <Button className=\"add-form\" type=\"primary\" htmlType=\"submit\">\r\n                                {salaryId?.action === 'update' ? 'LƯU' : 'THÊM'}\r\n                            </Button>\r\n                            <Button className=\"cancel-form\" htmlType=\"button\" onClick={onReset} type=\"primary\">\r\n                                HỦY\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n\r\n            <SalaryIncreaseTable handleChangeIncreaseSalary={handleChangeIncreaseSalary} handleOpenModalDeleteSalary={handleOpenModalDeleteSalary} SalaryList={SalaryList} />\r\n\r\n            {salaryForm && <SalaryIncreaseModal open={salaryForm} onCancel={handleClear} employeeInfo={employeeInfo} staffDataSalary={staffDataSalary} onSend={handleSendLeader} />}\r\n\r\n            {modalDelete && <ModalDelete open={modalDelete} onCancel={handleOpenModalDeleteSalary} onOk={handleDelete} />}\r\n\r\n            {sendLeader && <ModalSendLeader open={sendLeader} onCancel={handleSendLeader} employeeId={employeeInfo?.employeeId} onClose={handleClear} status={16} />}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SalaryIncreaseCollapse;\r\n"]},"metadata":{},"sourceType":"module"}