{"ast":null,"code":"import _toConsumableArray from \"D:\\\\DATA\\\\QL_NV\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"D:\\\\DATA\\\\QL_NV\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"D:\\\\DATA\\\\QL_NV\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\DATA\\\\QL_NV\\\\QLNV\\\\src\\\\app\\\\views\\\\CreateStaff\\\\DialogStaff\\\\TabFamilyRelationship\\\\index.jsx\";\n\nimport { Button, Col, Form, Input, Row, Select } from \"antd\";\nimport { Option } from \"antd/es/mentions\";\nimport React, { useState } from \"react\";\nimport Styled from \"./styled\";\nimport ModalDelete from \"app/views/GeneralSettings/ModalDelete\";\nimport TableFamilyRelationship from \"./TableFamilyRelationship\";\n\nvar TabFamilyRelationShip = function TabFamilyRelationShip(props) {\n  var listRelationship = props.listRelationship,\n      setListRelationship = props.setListRelationship,\n      listGender = props.listGender;\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectIndex = _useState2[0],\n      setSelectIndex = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      relationshipId = _useState4[0],\n      setRelationshipId = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      shouldOpenDialogDeleteText = _useState6[0],\n      setShouldOpenDialogDeleteText = _useState6[1];\n\n  var _Form$useForm = Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var onFinish = function onFinish(value) {\n    if (typeof selectIndex === \"number\") {\n      if (!(listRelationship === null || listRelationship === void 0 ? void 0 : listRelationship.familyId)) {\n        var dataUpdate = listRelationship.map(function (item, index) {\n          var itemUpdate = index === selectIndex ? _objectSpread(_objectSpread({}, item), value) : item;\n          return _objectSpread({}, itemUpdate);\n        });\n        setListRelationship(_toConsumableArray(dataUpdate));\n      } else {\n        console.log(\"có lỗi\");\n      }\n    } else {\n      var newItemWithIndex = _objectSpread(_objectSpread({}, value), {}, {\n        index: listRelationship.length.toString()\n      });\n\n      setListRelationship([].concat(_toConsumableArray(listRelationship), [newItemWithIndex]));\n    }\n\n    form.resetFields();\n    setSelectIndex(\"\");\n  };\n\n  var onClickEditFamilyRelationship = function onClickEditFamilyRelationship(record, index) {\n    var _record$dateOfBirth;\n\n    form.setFieldsValue({\n      name: record === null || record === void 0 ? void 0 : record.name,\n      dateOfBirth: record === null || record === void 0 ? void 0 : (_record$dateOfBirth = record.dateOfBirth) === null || _record$dateOfBirth === void 0 ? void 0 : _record$dateOfBirth.split(\" \")[0],\n      gender: record === null || record === void 0 ? void 0 : record.gender,\n      relation: record === null || record === void 0 ? void 0 : record.relation,\n      citizenId: record === null || record === void 0 ? void 0 : record.citizenId,\n      address: record === null || record === void 0 ? void 0 : record.address\n    });\n    setSelectIndex(index);\n  };\n\n  var onClickDeleteFamilyRelationship = function onClickDeleteFamilyRelationship(index, recordFamilyRelationship) {\n    setRelationshipId(recordFamilyRelationship === null || recordFamilyRelationship === void 0 ? void 0 : recordFamilyRelationship.familyId);\n    setShouldOpenDialogDeleteText(true);\n    setSelectIndex(index);\n  };\n\n  var handleDelete = function handleDelete() {\n    if (relationshipId) {\n      setListRelationship(listRelationship.filter(function (item) {\n        return (item === null || item === void 0 ? void 0 : item.familyId) !== relationshipId;\n      }));\n    } else {\n      setListRelationship(listRelationship.filter(function (item) {\n        return (item === null || item === void 0 ? void 0 : item.index) !== selectIndex;\n      }));\n    }\n\n    handleCloseDialogDelete();\n    form.resetFields();\n    setSelectIndex(\"\");\n  };\n\n  var handleCloseDialogDelete = function handleCloseDialogDelete() {\n    setShouldOpenDialogDeleteText(!shouldOpenDialogDeleteText);\n  };\n\n  return /*#__PURE__*/React.createElement(Styled, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, shouldOpenDialogDeleteText && /*#__PURE__*/React.createElement(ModalDelete, {\n    open: shouldOpenDialogDeleteText,\n    onOk: handleDelete,\n    onCancel: handleCloseDialogDelete,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Form, {\n    wrapperCol: {\n      span: 24\n    },\n    onFinish: onFinish,\n    layout: \"vertical\",\n    form: form,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 24,\n    style: {\n      boxSizing: \"border-box\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    justify: \"space-between\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    className: \"gutter-row\",\n    span: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"H\\u1ECD v\\xE0 t\\xEAn ng\\u01B0\\u1EDDi th\\xE2n\",\n    name: \"name\",\n    rules: [{\n      required: true,\n      message: 'Bắt buộc phải nhập trường này!'\n    }, {\n      whitespace: true,\n      message: 'không được để trống'\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    className: \"gutter-row\",\n    span: 5,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"S\\u1ED1 CCCD/CMT\",\n    name: \"citizenId\",\n    rules: [{\n      required: true,\n      message: 'Bắt buộc phải nhập trường này!'\n    }, {\n      pattern: '^([-]?[0-9][0-9]*|0)$',\n      message: 'Trường này phải là số'\n    }, {\n      max: 12,\n      message: 'Tối đa 12 kí tự'\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    className: \"gutter-row\",\n    span: 5,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Ng\\xE0y sinh\",\n    name: \"dateOfBirth\",\n    rules: [{\n      required: true,\n      message: 'Bắt buộc phải chọn trường này!'\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"date\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    className: \"gutter-row\",\n    span: 4,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Quan h\\u1EC7\",\n    name: \"relation\",\n    rules: [{\n      required: true,\n      message: 'Bắt buộc phải nhập trường này!'\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    className: \"gutter-row\",\n    span: 4,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"gender\",\n    label: \"Gi\\u1EDBi t\\xEDnh\",\n    rules: [{\n      required: true,\n      message: 'Bắt buộc phải chọn trường này!'\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    placeholder: \"Gi\\u1EDBi t\\xEDnh\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 33\n    }\n  }, listGender.map(function (item) {\n    return /*#__PURE__*/React.createElement(Option, {\n      key: item.value,\n      value: item.value,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 48\n      }\n    }, item.label);\n  })))), /*#__PURE__*/React.createElement(Col, {\n    className: \"gutter-row\",\n    span: 16,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"\\u0110\\u1ECBa ch\\u1EC9 c\\u1EE5 th\\u1EC3\",\n    name: \"address\",\n    rules: [{\n      required: true,\n      message: 'Bắt buộc phải nhập trường này!'\n    }, {\n      whitespace: true,\n      message: 'không được để khoảng trằng trống'\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    className: \"gutter-row btn-form\",\n    span: 8,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn-family-relationship\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"btn-add\",\n    htmlType: \"submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 37\n    }\n  }, \"TH\\xCAM\"), /*#__PURE__*/React.createElement(Button, {\n    className: \"btn-reset\",\n    onClick: function onClick() {\n      return form.resetFields();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 37\n    }\n  }, \"L\\xC0M M\\u1EDAI\"))))))), /*#__PURE__*/React.createElement(TableFamilyRelationship, {\n    listGender: listGender,\n    listRelationship: listRelationship,\n    onClickEditFamilyRelationship: onClickEditFamilyRelationship,\n    onClickDeleteFamilyRelationship: onClickDeleteFamilyRelationship,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default TabFamilyRelationShip;","map":{"version":3,"sources":["D:/DATA/QL_NV/QLNV/src/app/views/CreateStaff/DialogStaff/TabFamilyRelationship/index.jsx"],"names":["Button","Col","Form","Input","Row","Select","Option","React","useState","Styled","ModalDelete","TableFamilyRelationship","TabFamilyRelationShip","props","listRelationship","setListRelationship","listGender","selectIndex","setSelectIndex","relationshipId","setRelationshipId","shouldOpenDialogDeleteText","setShouldOpenDialogDeleteText","useForm","form","onFinish","value","familyId","dataUpdate","map","item","index","itemUpdate","console","log","newItemWithIndex","length","toString","resetFields","onClickEditFamilyRelationship","record","setFieldsValue","name","dateOfBirth","split","gender","relation","citizenId","address","onClickDeleteFamilyRelationship","recordFamilyRelationship","handleDelete","filter","handleCloseDialogDelete","span","boxSizing","required","message","whitespace","pattern","max","label"],"mappings":";;;;;;;AAAA,SAASA,MAAT,EAAiBC,GAAjB,EAAsBC,IAAtB,EAA4BC,KAA5B,EAAmCC,GAAnC,EAAwCC,MAAxC,QAAsD,MAAtD;AACA,SAASC,MAAT,QAAuB,kBAAvB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,MAAP,MAAmB,UAAnB;AAEA,OAAOC,WAAP,MAAwB,uCAAxB;AACA,OAAOC,uBAAP,MAAoC,2BAApC;;AAEA,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,CAACC,KAAD,EAAW;AAAA,MAC7BC,gBAD6B,GACyBD,KADzB,CAC7BC,gBAD6B;AAAA,MACXC,mBADW,GACyBF,KADzB,CACXE,mBADW;AAAA,MACUC,UADV,GACyBH,KADzB,CACUG,UADV;;AAAA,kBAECR,QAAQ,EAFT;AAAA;AAAA,MAE9BS,WAF8B;AAAA,MAEjBC,cAFiB;;AAAA,mBAGOV,QAAQ,CAAC,CAAD,CAHf;AAAA;AAAA,MAG9BW,cAH8B;AAAA,MAGdC,iBAHc;;AAAA,mBAI+BZ,QAAQ,CAAC,KAAD,CAJvC;AAAA;AAAA,MAI9Ba,0BAJ8B;AAAA,MAIFC,6BAJE;;AAAA,sBAMtBpB,IAAI,CAACqB,OAAL,EANsB;AAAA;AAAA,MAM9BC,IAN8B;;AAQrC,MAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,KAAD,EAAW;AAExB,QAAI,OAAOT,WAAP,KAAuB,QAA3B,EAAqC;AACjC,UAAI,EAACH,gBAAD,aAACA,gBAAD,uBAACA,gBAAgB,CAAEa,QAAnB,CAAJ,EAAiC;AAC7B,YAAMC,UAAU,GAAGd,gBAAgB,CAACe,GAAjB,CAAqB,UAACC,IAAD,EAAOC,KAAP,EAAiB;AACrD,cAAMC,UAAU,GAAGD,KAAK,KAAKd,WAAV,mCAA6Ba,IAA7B,GAAsCJ,KAAtC,IAAgDI,IAAnE;AACA,mCACOE,UADP;AAGH,SALkB,CAAnB;AAMAjB,QAAAA,mBAAmB,oBAAKa,UAAL,EAAnB;AACH,OARD,MAQO;AACHK,QAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACH;AAEJ,KAbD,MAcK;AACD,UAAMC,gBAAgB,mCAAQT,KAAR;AAAeK,QAAAA,KAAK,EAAEjB,gBAAgB,CAACsB,MAAjB,CAAwBC,QAAxB;AAAtB,QAAtB;;AACAtB,MAAAA,mBAAmB,8BACZD,gBADY,IAEfqB,gBAFe,GAAnB;AAIH;;AAEDX,IAAAA,IAAI,CAACc,WAAL;AACApB,IAAAA,cAAc,CAAC,EAAD,CAAd;AACH,GA1BD;;AA4BA,MAAMqB,6BAA6B,GAAG,SAAhCA,6BAAgC,CAACC,MAAD,EAAST,KAAT,EAAmB;AAAA;;AACrDP,IAAAA,IAAI,CAACiB,cAAL,CAAoB;AAChBC,MAAAA,IAAI,EAAEF,MAAF,aAAEA,MAAF,uBAAEA,MAAM,CAAEE,IADE;AAEhBC,MAAAA,WAAW,EAAEH,MAAF,aAAEA,MAAF,8CAAEA,MAAM,CAAEG,WAAV,wDAAE,oBAAqBC,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,CAFG;AAGhBC,MAAAA,MAAM,EAAEL,MAAF,aAAEA,MAAF,uBAAEA,MAAM,CAAEK,MAHA;AAIhBC,MAAAA,QAAQ,EAAEN,MAAF,aAAEA,MAAF,uBAAEA,MAAM,CAAEM,QAJF;AAKhBC,MAAAA,SAAS,EAAEP,MAAF,aAAEA,MAAF,uBAAEA,MAAM,CAAEO,SALH;AAMhBC,MAAAA,OAAO,EAAER,MAAF,aAAEA,MAAF,uBAAEA,MAAM,CAAEQ;AAND,KAApB;AAQA9B,IAAAA,cAAc,CAACa,KAAD,CAAd;AACH,GAVD;;AAYA,MAAMkB,+BAA+B,GAAG,SAAlCA,+BAAkC,CAAClB,KAAD,EAAQmB,wBAAR,EAAqC;AACzE9B,IAAAA,iBAAiB,CAAC8B,wBAAD,aAACA,wBAAD,uBAACA,wBAAwB,CAAEvB,QAA3B,CAAjB;AACAL,IAAAA,6BAA6B,CAAC,IAAD,CAA7B;AACAJ,IAAAA,cAAc,CAACa,KAAD,CAAd;AACH,GAJD;;AAMA,MAAMoB,YAAY,GAAG,SAAfA,YAAe,GAAM;AACvB,QAAIhC,cAAJ,EAAoB;AAChBJ,MAAAA,mBAAmB,CAACD,gBAAgB,CAACsC,MAAjB,CAAwB,UAACtB,IAAD;AAAA,eAAU,CAAAA,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEH,QAAN,MAAmBR,cAA7B;AAAA,OAAxB,CAAD,CAAnB;AACH,KAFD,MAEO;AACHJ,MAAAA,mBAAmB,CAACD,gBAAgB,CAACsC,MAAjB,CAAwB,UAACtB,IAAD;AAAA,eAAU,CAAAA,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEC,KAAN,MAAgBd,WAA1B;AAAA,OAAxB,CAAD,CAAnB;AACH;;AACDoC,IAAAA,uBAAuB;AACvB7B,IAAAA,IAAI,CAACc,WAAL;AACApB,IAAAA,cAAc,CAAC,EAAD,CAAd;AACH,GATD;;AAWA,MAAMmC,uBAAuB,GAAG,SAA1BA,uBAA0B,GAAM;AAClC/B,IAAAA,6BAA6B,CAAC,CAACD,0BAAF,CAA7B;AACH,GAFD;;AAIA,sBACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKA,0BAA0B,iBACvB,oBAAC,WAAD;AACI,IAAA,IAAI,EAAEA,0BADV;AAEI,IAAA,IAAI,EAAE8B,YAFV;AAGI,IAAA,QAAQ,EAAEE,uBAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFR,eASI,oBAAC,IAAD;AACI,IAAA,UAAU,EAAE;AACRC,MAAAA,IAAI,EAAE;AADE,KADhB;AAII,IAAA,QAAQ,EAAE7B,QAJd;AAKI,IAAA,MAAM,EAAC,UALX;AAMI,IAAA,IAAI,EAAED,IANV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAQI,oBAAC,GAAD;AAAK,IAAA,IAAI,EAAE,EAAX;AAAe,IAAA,KAAK,EAAE;AAAE+B,MAAAA,SAAS,EAAE;AAAb,KAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,GAAD;AAAK,IAAA,OAAO,EAAC,eAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,GAAD;AAAK,IAAA,SAAS,EAAC,YAAf;AAA4B,IAAA,IAAI,EAAE,CAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD,CAAM,IAAN;AACI,IAAA,KAAK,EAAC,8CADV;AAEI,IAAA,IAAI,EAAC,MAFT;AAGI,IAAA,KAAK,EAAE,CACH;AACIC,MAAAA,QAAQ,EAAE,IADd;AAEIC,MAAAA,OAAO,EAAE;AAFb,KADG,EAKH;AAAEC,MAAAA,UAAU,EAAE,IAAd;AAAoBD,MAAAA,OAAO,EAAE;AAA7B,KALG,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAWI,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXJ,CADJ,CADJ,eAgBI,oBAAC,GAAD;AAAK,IAAA,SAAS,EAAC,YAAf;AAA4B,IAAA,IAAI,EAAE,CAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD,CAAM,IAAN;AACI,IAAA,KAAK,EAAC,kBADV;AAEI,IAAA,IAAI,EAAC,WAFT;AAGI,IAAA,KAAK,EAAE,CACH;AACID,MAAAA,QAAQ,EAAE,IADd;AAEIC,MAAAA,OAAO,EAAE;AAFb,KADG,EAKH;AACIE,MAAAA,OAAO,EAAE,uBADb;AAEIF,MAAAA,OAAO,EAAE;AAFb,KALG,EASH;AAAEG,MAAAA,GAAG,EAAE,EAAP;AAAWH,MAAAA,OAAO,EAAE;AAApB,KATG,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAeI,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAfJ,CADJ,CAhBJ,eAmCI,oBAAC,GAAD;AAAK,IAAA,SAAS,EAAC,YAAf;AAA4B,IAAA,IAAI,EAAE,CAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD,CAAM,IAAN;AACI,IAAA,KAAK,EAAC,cADV;AAEI,IAAA,IAAI,EAAC,aAFT;AAGI,IAAA,KAAK,EAAE,CACH;AACID,MAAAA,QAAQ,EAAE,IADd;AAEIC,MAAAA,OAAO,EAAE;AAFb,KADG,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAUI,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVJ,CADJ,CAnCJ,eAiDI,oBAAC,GAAD;AAAK,IAAA,SAAS,EAAC,YAAf;AAA4B,IAAA,IAAI,EAAE,CAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD,CAAM,IAAN;AACI,IAAA,KAAK,EAAC,cADV;AAEI,IAAA,IAAI,EAAC,UAFT;AAGI,IAAA,KAAK,EAAE,CACH;AACID,MAAAA,QAAQ,EAAE,IADd;AAEIC,MAAAA,OAAO,EAAE;AAFb,KADG,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAUI,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVJ,CADJ,CAjDJ,eA+DI,oBAAC,GAAD;AAAK,IAAA,SAAS,EAAC,YAAf;AAA4B,IAAA,IAAI,EAAE,CAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD,CAAM,IAAN;AACI,IAAA,IAAI,EAAC,QADT;AAEI,IAAA,KAAK,EAAC,mBAFV;AAGI,IAAA,KAAK,EAAE,CACH;AACID,MAAAA,QAAQ,EAAE,IADd;AAEIC,MAAAA,OAAO,EAAE;AAFb,KADG,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAUI,oBAAC,MAAD;AACI,IAAA,WAAW,EAAC,mBADhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGKzC,UAAU,CAACa,GAAX,CAAe,UAAAC,IAAI,EAAI;AACpB,wBAAO,oBAAC,MAAD;AAAQ,MAAA,GAAG,EAAEA,IAAI,CAACJ,KAAlB;AAAyB,MAAA,KAAK,EAAEI,IAAI,CAACJ,KAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA6CI,IAAI,CAAC+B,KAAlD,CAAP;AACH,GAFA,CAHL,CAVJ,CADJ,CA/DJ,eAmFI,oBAAC,GAAD;AAAK,IAAA,SAAS,EAAC,YAAf;AAA4B,IAAA,IAAI,EAAE,EAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD,CAAM,IAAN;AACI,IAAA,KAAK,EAAC,yCADV;AAEI,IAAA,IAAI,EAAC,SAFT;AAGI,IAAA,KAAK,EAAE,CACH;AACIL,MAAAA,QAAQ,EAAE,IADd;AAEIC,MAAAA,OAAO,EAAE;AAFb,KADG,EAKH;AAAEC,MAAAA,UAAU,EAAE,IAAd;AAAoBD,MAAAA,OAAO,EAAE;AAA7B,KALG,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAWI,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXJ,CADJ,CAnFJ,eAkGI,oBAAC,GAAD;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAqC,IAAA,IAAI,EAAE,CAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAC,SAAlB;AAA4B,IAAA,QAAQ,EAAC,QAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,eAII,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAC,WAAlB;AAA8B,IAAA,OAAO,EAAE;AAAA,aAAMjC,IAAI,CAACc,WAAL,EAAN;AAAA,KAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAJJ,CADJ,CADJ,CAlGJ,CADJ,CARJ,CATJ,eAqII,oBAAC,uBAAD;AACI,IAAA,UAAU,EAAEtB,UADhB;AAEI,IAAA,gBAAgB,EAAEF,gBAFtB;AAGI,IAAA,6BAA6B,EAAEyB,6BAHnC;AAII,IAAA,+BAA+B,EAAEU,+BAJrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IArIJ,CADJ;AA+IH,CApND;;AAqNA,eAAerC,qBAAf","sourcesContent":["import { Button, Col, Form, Input, Row, Select } from \"antd\";\r\nimport { Option } from \"antd/es/mentions\";\r\nimport React, { useState } from \"react\";\r\nimport Styled from \"./styled\";\r\n\r\nimport ModalDelete from \"app/views/GeneralSettings/ModalDelete\";\r\nimport TableFamilyRelationship from \"./TableFamilyRelationship\";\r\n\r\nconst TabFamilyRelationShip = (props) => {\r\n    const { listRelationship, setListRelationship, listGender } = props;\r\n    const [selectIndex, setSelectIndex] = useState();\r\n    const [relationshipId, setRelationshipId] = useState(0);\r\n    const [shouldOpenDialogDeleteText, setShouldOpenDialogDeleteText] = useState(false)\r\n\r\n    const [form] = Form.useForm();\r\n\r\n    const onFinish = (value) => {\r\n\r\n        if (typeof selectIndex === \"number\") {\r\n            if (!listRelationship?.familyId) {\r\n                const dataUpdate = listRelationship.map((item, index) => {\r\n                    const itemUpdate = index === selectIndex ? { ...item, ...value } : item\r\n                    return {\r\n                        ...itemUpdate,\r\n                    };\r\n                });\r\n                setListRelationship([...dataUpdate]);\r\n            } else {\r\n                console.log(\"có lỗi\");\r\n            }\r\n\r\n        }\r\n        else {\r\n            const newItemWithIndex = { ...value, index: listRelationship.length.toString() };\r\n            setListRelationship([\r\n                ...listRelationship,\r\n                newItemWithIndex\r\n            ]);\r\n        }\r\n\r\n        form.resetFields();\r\n        setSelectIndex(\"\")\r\n    };\r\n\r\n    const onClickEditFamilyRelationship = (record, index) => {\r\n        form.setFieldsValue({\r\n            name: record?.name,\r\n            dateOfBirth: record?.dateOfBirth?.split(\" \")[0],\r\n            gender: record?.gender,\r\n            relation: record?.relation,\r\n            citizenId: record?.citizenId,\r\n            address: record?.address\r\n        });\r\n        setSelectIndex(index);\r\n    }\r\n\r\n    const onClickDeleteFamilyRelationship = (index, recordFamilyRelationship) => {\r\n        setRelationshipId(recordFamilyRelationship?.familyId)\r\n        setShouldOpenDialogDeleteText(true)\r\n        setSelectIndex(index)\r\n    }\r\n\r\n    const handleDelete = () => {\r\n        if (relationshipId) {\r\n            setListRelationship(listRelationship.filter((item) => item?.familyId !== relationshipId))\r\n        } else {\r\n            setListRelationship(listRelationship.filter((item) => item?.index !== selectIndex));\r\n        }\r\n        handleCloseDialogDelete();\r\n        form.resetFields();\r\n        setSelectIndex(\"\")\r\n    }\r\n\r\n    const handleCloseDialogDelete = () => {\r\n        setShouldOpenDialogDeleteText(!shouldOpenDialogDeleteText)\r\n    }\r\n\r\n    return (\r\n        <Styled>\r\n            {shouldOpenDialogDeleteText && (\r\n                <ModalDelete\r\n                    open={shouldOpenDialogDeleteText}\r\n                    onOk={handleDelete}\r\n                    onCancel={handleCloseDialogDelete}\r\n                />\r\n            )}\r\n\r\n            <Form\r\n                wrapperCol={{\r\n                    span: 24,\r\n                }}\r\n                onFinish={onFinish}\r\n                layout=\"vertical\"\r\n                form={form}\r\n            >\r\n                <Col span={24} style={{ boxSizing: \"border-box\" }}>\r\n                    <Row justify=\"space-between\" >\r\n                        <Col className=\"gutter-row\" span={6}>\r\n                            <Form.Item\r\n                                label='Họ và tên người thân'\r\n                                name=\"name\"\r\n                                rules={[\r\n                                    {\r\n                                        required: true,\r\n                                        message: 'Bắt buộc phải nhập trường này!',\r\n                                    },\r\n                                    { whitespace: true, message: 'không được để trống' },\r\n                                ]}\r\n                            >\r\n                                <Input />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col className=\"gutter-row\" span={5}>\r\n                            <Form.Item\r\n                                label='Số CCCD/CMT'\r\n                                name=\"citizenId\"\r\n                                rules={[\r\n                                    {\r\n                                        required: true,\r\n                                        message: 'Bắt buộc phải nhập trường này!',\r\n                                    },\r\n                                    {\r\n                                        pattern: '^([-]?[0-9][0-9]*|0)$',\r\n                                        message: 'Trường này phải là số',\r\n                                    },\r\n                                    { max: 12, message: 'Tối đa 12 kí tự', }\r\n                                ]}\r\n                            >\r\n                                <Input />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col className=\"gutter-row\" span={5}>\r\n                            <Form.Item\r\n                                label=\"Ngày sinh\"\r\n                                name=\"dateOfBirth\"\r\n                                rules={[\r\n                                    {\r\n                                        required: true,\r\n                                        message: 'Bắt buộc phải chọn trường này!',\r\n                                    },\r\n                                ]}\r\n                            >\r\n                                <Input type=\"date\" />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col className=\"gutter-row\" span={4}>\r\n                            <Form.Item\r\n                                label='Quan hệ'\r\n                                name=\"relation\"\r\n                                rules={[\r\n                                    {\r\n                                        required: true,\r\n                                        message: 'Bắt buộc phải nhập trường này!',\r\n                                    },\r\n                                ]}\r\n                            >\r\n                                <Input />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col className=\"gutter-row\" span={4}>\r\n                            <Form.Item\r\n                                name=\"gender\"\r\n                                label=\"Giới tính\"\r\n                                rules={[\r\n                                    {\r\n                                        required: true,\r\n                                        message: 'Bắt buộc phải chọn trường này!',\r\n                                    },\r\n                                ]}\r\n                            >\r\n                                <Select\r\n                                    placeholder=\"Giới tính\"\r\n                                >\r\n                                    {listGender.map(item => {\r\n                                        return <Option key={item.value} value={item.value}>{item.label}</Option>;\r\n                                    })}\r\n                                </Select>\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col className=\"gutter-row\" span={16}>\r\n                            <Form.Item\r\n                                label='Địa chỉ cụ thể'\r\n                                name=\"address\"\r\n                                rules={[\r\n                                    {\r\n                                        required: true,\r\n                                        message: 'Bắt buộc phải nhập trường này!',\r\n                                    },\r\n                                    { whitespace: true, message: 'không được để khoảng trằng trống' },\r\n                                ]}\r\n                            >\r\n                                <Input />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col className=\"gutter-row btn-form\" span={8}>\r\n                            <Form.Item>\r\n                                <div className=\"btn-family-relationship\">\r\n                                    <Button className=\"btn-add\" htmlType=\"submit\">\r\n                                        THÊM\r\n                                    </Button>\r\n                                    <Button className=\"btn-reset\" onClick={() => form.resetFields()}>\r\n                                        LÀM MỚI\r\n                                    </Button>\r\n                                </div>\r\n\r\n                            </Form.Item>\r\n                        </Col>\r\n                    </Row>\r\n                </Col>\r\n            </Form>\r\n\r\n            <TableFamilyRelationship\r\n                listGender={listGender}\r\n                listRelationship={listRelationship}\r\n                onClickEditFamilyRelationship={onClickEditFamilyRelationship}\r\n                onClickDeleteFamilyRelationship={onClickDeleteFamilyRelationship}\r\n            />\r\n\r\n        </Styled>\r\n    )\r\n}\r\nexport default TabFamilyRelationShip;\r\n"]},"metadata":{},"sourceType":"module"}