{"ast":null,"code":"import _objectSpread from \"D:\\\\DATA\\\\QL_NV\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"D:\\\\DATA\\\\QL_NV\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\DATA\\\\QL_NV\\\\QLNV\\\\src\\\\app\\\\views\\\\CreateStaff\\\\DialogStaff\\\\DialogRegister\\\\index.jsx\";\n\nimport React, { useState } from \"react\";\nimport { Button, Form, Modal, Tabs } from 'antd';\nimport { useEffect } from \"react\";\nimport ModalSendLeader from \"app/views/GeneralSettings/ModalSendLeader\";\nimport FormDiploma from \"app/views/GeneralSettings/FormDiploma\";\nimport FormCurriculumVitae from \"app/views/GeneralSettings/FormCurriculumVitae\";\nimport moment from \"moment\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { updateFormStaff } from \"app/redux/actions/CreateStaffAction\";\nimport FormProfile from \"app/views/GeneralSettings/FormProfile\";\nvar TabPane = Tabs.TabPane;\n\nvar DialogRegister = function DialogRegister(_ref) {\n  var _dataForm$cv;\n\n  var open = _ref.open,\n      staffInfo = _ref.staffInfo,\n      employeeId = _ref.employeeId,\n      handleClose = _ref.handleClose,\n      handleCloseDialogRegister = _ref.handleCloseDialogRegister;\n  var dataForm = useSelector(function (state) {\n    return state.createStaff.dataForm;\n  });\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      shouldBtnSendLeader = _useState2[0],\n      setShouldBtnSendLeader = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      shouldOpenPopupSendLeader = _useState4[0],\n      setShouldOpenPopupSendLeader = _useState4[1];\n\n  var _useState5 = useState(dataForm === null || dataForm === void 0 ? void 0 : (_dataForm$cv = dataForm.cv) === null || _dataForm$cv === void 0 ? void 0 : _dataForm$cv.workExperiences),\n      _useState6 = _slicedToArray(_useState5, 2),\n      workExperiencesList = _useState6[0],\n      setWorkExperiencesList = _useState6[1];\n\n  var _Form$useForm = Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var dispatch = useDispatch();\n  useEffect(function () {\n    var _dataForm$cv2, _dataForm$cv3, _dataForm$cv4, _dataForm$resume, _dataForm$resume2, _dataForm$resume3, _dataForm$resume4, _dataForm$resume5, _dataForm$resume6, _dataForm$resume7;\n\n    form.setFieldsValue({\n      careerGoal: dataForm === null || dataForm === void 0 ? void 0 : (_dataForm$cv2 = dataForm.cv) === null || _dataForm$cv2 === void 0 ? void 0 : _dataForm$cv2.careerGoal,\n      skill: dataForm === null || dataForm === void 0 ? void 0 : (_dataForm$cv3 = dataForm.cv) === null || _dataForm$cv3 === void 0 ? void 0 : _dataForm$cv3.skill,\n      hobby: dataForm === null || dataForm === void 0 ? void 0 : (_dataForm$cv4 = dataForm.cv) === null || _dataForm$cv4 === void 0 ? void 0 : _dataForm$cv4.hobby,\n      commonName: dataForm === null || dataForm === void 0 ? void 0 : (_dataForm$resume = dataForm.resume) === null || _dataForm$resume === void 0 ? void 0 : _dataForm$resume.commonName,\n      currentAddress: dataForm === null || dataForm === void 0 ? void 0 : (_dataForm$resume2 = dataForm.resume) === null || _dataForm$resume2 === void 0 ? void 0 : _dataForm$resume2.currentAddress,\n      citizenIdIssuanceDate: (dataForm === null || dataForm === void 0 ? void 0 : (_dataForm$resume3 = dataForm.resume) === null || _dataForm$resume3 === void 0 ? void 0 : _dataForm$resume3.citizenIdIssuanceDate) ? moment(dataForm === null || dataForm === void 0 ? void 0 : (_dataForm$resume4 = dataForm.resume) === null || _dataForm$resume4 === void 0 ? void 0 : _dataForm$resume4.citizenIdIssuanceDate).format('DD-MM-YYYY') : \"\",\n      citizenIdIssuingAuthority: dataForm === null || dataForm === void 0 ? void 0 : (_dataForm$resume5 = dataForm.resume) === null || _dataForm$resume5 === void 0 ? void 0 : _dataForm$resume5.citizenIdIssuingAuthority,\n      ethnicity: dataForm === null || dataForm === void 0 ? void 0 : (_dataForm$resume6 = dataForm.resume) === null || _dataForm$resume6 === void 0 ? void 0 : _dataForm$resume6.ethnicity,\n      religion: dataForm === null || dataForm === void 0 ? void 0 : (_dataForm$resume7 = dataForm.resume) === null || _dataForm$resume7 === void 0 ? void 0 : _dataForm$resume7.religion\n    });\n  }, []);\n\n  var onChange = function onChange(key) {};\n\n  var openPopupSendLeader = function openPopupSendLeader() {\n    setShouldOpenPopupSendLeader(true);\n  };\n\n  var handleClosePopupSendLeader = function handleClosePopupSendLeader() {\n    setShouldOpenPopupSendLeader(false);\n  };\n\n  var handleSubmitStaffRegister = function handleSubmitStaffRegister(values) {\n    var staffData = {\n      employeeId: employeeId,\n      cv: {\n        careerGoal: values.careerGoal,\n        skill: values.skill,\n        hobby: values.hobby,\n        workExperiences: workExperiencesList.map(function (data, index) {\n          return _objectSpread(_objectSpread({}, data), {}, {\n            startDate: moment(data.startDate).format('YYYY-MM-DD'),\n            endDate: moment(data.endDate).format('YYYY-MM-DD')\n          });\n        })\n      },\n      resume: {\n        commonName: values.commonName,\n        currentAddress: values.currentAddress,\n        citizenIdIssuanceDate: moment(values.citizenIdIssuanceDate).format('YYYY-MM-DD'),\n        citizenIdIssuingAuthority: values.citizenIdIssuingAuthority,\n        ethnicity: values.ethnicity,\n        religion: values.religion\n      }\n    };\n    dispatch(updateFormStaff(staffData, setShouldBtnSendLeader));\n  };\n\n  var onClearModal = function onClearModal() {\n    handleClose();\n    handleCloseDialogRegister();\n  };\n\n  return /*#__PURE__*/React.createElement(Modal, {\n    title: \"Th\\xF4ng tin h\\u1ED3 s\\u01A1\",\n    centered: true,\n    open: open,\n    width: 1000,\n    onCancel: handleCloseDialogRegister,\n    footer: null,\n    className: \"modal-dialog-register\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    form: form,\n    onFinish: handleSubmitStaffRegister,\n    layout: \"vertical\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Tabs, {\n    className: \"tab-information\",\n    defaultActiveKey: \"1\",\n    tabPosition: \"left\",\n    onChange: onChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TabPane, {\n    tab: \"H\\u1ED2 S\\u01A0\",\n    key: \"1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormProfile, {\n    employeeInfo: staffInfo === null || staffInfo === void 0 ? void 0 : staffInfo.employeeInfo,\n    workExperiencesList: workExperiencesList,\n    setWorkExperiencesList: setWorkExperiencesList,\n    profileInfo: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(TabPane, {\n    tab: \"S\\u01A0 Y\\u1EBEU L\\xDD L\\u1ECACH\",\n    key: \"2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormCurriculumVitae, {\n    data: staffInfo === null || staffInfo === void 0 ? void 0 : staffInfo.employeeInfo,\n    familyRelations: staffInfo === null || staffInfo === void 0 ? void 0 : staffInfo.familyRelations,\n    disabled: false,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(TabPane, {\n    tab: \"DANH S\\xC1CH V\\u0102N B\\u1EB0NG\",\n    key: \"3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormDiploma, {\n    data: staffInfo === null || staffInfo === void 0 ? void 0 : staffInfo.certificates,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn-dialog-register\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"btn-save\",\n    htmlType: \"submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }, \"L\\u01AFU\"), shouldBtnSendLeader && /*#__PURE__*/React.createElement(Button, {\n    className: \"btn-register\",\n    onClick: function onClick() {\n      return openPopupSendLeader();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 45\n    }\n  }, \"TR\\xCCNH L\\xC3NH \\u0110\\u1EA0O\"), /*#__PURE__*/React.createElement(Button, {\n    className: \"btn-close\",\n    onClick: handleCloseDialogRegister,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 21\n    }\n  }, \"H\\u1EE6Y\")), shouldOpenPopupSendLeader && /*#__PURE__*/React.createElement(ModalSendLeader, {\n    open: shouldOpenPopupSendLeader,\n    employeeId: employeeId,\n    onCancel: handleClosePopupSendLeader,\n    onClose: onClearModal,\n    status: 3,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 21\n    }\n  })));\n};\n\nexport default DialogRegister;","map":{"version":3,"sources":["D:/DATA/QL_NV/QLNV/src/app/views/CreateStaff/DialogStaff/DialogRegister/index.jsx"],"names":["React","useState","Button","Form","Modal","Tabs","useEffect","ModalSendLeader","FormDiploma","FormCurriculumVitae","moment","useDispatch","useSelector","updateFormStaff","FormProfile","TabPane","DialogRegister","open","staffInfo","employeeId","handleClose","handleCloseDialogRegister","dataForm","state","createStaff","shouldBtnSendLeader","setShouldBtnSendLeader","shouldOpenPopupSendLeader","setShouldOpenPopupSendLeader","cv","workExperiences","workExperiencesList","setWorkExperiencesList","useForm","form","dispatch","setFieldsValue","careerGoal","skill","hobby","commonName","resume","currentAddress","citizenIdIssuanceDate","format","citizenIdIssuingAuthority","ethnicity","religion","onChange","key","openPopupSendLeader","handleClosePopupSendLeader","handleSubmitStaffRegister","values","staffData","map","data","index","startDate","endDate","onClearModal","employeeInfo","familyRelations","certificates"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Button, Form, Modal, Tabs } from 'antd';\r\nimport { useEffect } from \"react\";\r\nimport ModalSendLeader from \"app/views/GeneralSettings/ModalSendLeader\";\r\nimport FormDiploma from \"app/views/GeneralSettings/FormDiploma\";\r\nimport FormCurriculumVitae from \"app/views/GeneralSettings/FormCurriculumVitae\";\r\nimport moment from \"moment\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { updateFormStaff } from \"app/redux/actions/CreateStaffAction\";\r\nimport FormProfile from \"app/views/GeneralSettings/FormProfile\";\r\n\r\nconst TabPane = Tabs.TabPane\r\n\r\nconst DialogRegister = ({ open, staffInfo, employeeId, handleClose, handleCloseDialogRegister }) => {\r\n    const dataForm = useSelector((state) => state.createStaff.dataForm)\r\n    const [shouldBtnSendLeader, setShouldBtnSendLeader] = useState(false)\r\n    const [shouldOpenPopupSendLeader, setShouldOpenPopupSendLeader] = useState(false)\r\n    const [workExperiencesList, setWorkExperiencesList] = useState(dataForm?.cv?.workExperiences)\r\n\r\n    const [form] = Form.useForm();\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        form.setFieldsValue({\r\n            careerGoal: dataForm?.cv?.careerGoal,\r\n            skill: dataForm?.cv?.skill,\r\n            hobby: dataForm?.cv?.hobby,\r\n            commonName: dataForm?.resume?.commonName,\r\n            currentAddress: dataForm?.resume?.currentAddress,\r\n            citizenIdIssuanceDate: dataForm?.resume?.citizenIdIssuanceDate ? moment(dataForm?.resume?.citizenIdIssuanceDate).format('DD-MM-YYYY') : \"\",\r\n            citizenIdIssuingAuthority: dataForm?.resume?.citizenIdIssuingAuthority,\r\n            ethnicity: dataForm?.resume?.ethnicity,\r\n            religion: dataForm?.resume?.religion,\r\n        });\r\n    }, [])\r\n\r\n\r\n    const onChange = (key) => { };\r\n\r\n    const openPopupSendLeader = () => {\r\n        setShouldOpenPopupSendLeader(true)\r\n    }\r\n\r\n    const handleClosePopupSendLeader = () => {\r\n        setShouldOpenPopupSendLeader(false)\r\n    }\r\n\r\n    const handleSubmitStaffRegister = (values) => {\r\n        const staffData = {\r\n            employeeId,\r\n            cv: {\r\n                careerGoal: values.careerGoal,\r\n                skill: values.skill,\r\n                hobby: values.hobby,\r\n                workExperiences: workExperiencesList.map((data, index) => {\r\n                    return {\r\n                        ...data,\r\n                        startDate: moment(data.startDate).format('YYYY-MM-DD'),\r\n                        endDate: moment(data.endDate).format('YYYY-MM-DD'),\r\n                    }\r\n                })\r\n\r\n            },\r\n            resume: {\r\n                commonName: values.commonName,\r\n                currentAddress: values.currentAddress,\r\n                citizenIdIssuanceDate: moment(values.citizenIdIssuanceDate).format('YYYY-MM-DD'),\r\n                citizenIdIssuingAuthority: values.citizenIdIssuingAuthority,\r\n                ethnicity: values.ethnicity,\r\n                religion: values.religion,\r\n            },\r\n        }\r\n\r\n        dispatch(updateFormStaff(staffData, setShouldBtnSendLeader))\r\n    };\r\n\r\n    const onClearModal = () => {\r\n        handleClose()\r\n        handleCloseDialogRegister()\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            title=\"Thông tin hồ sơ\"\r\n            centered\r\n            open={open}\r\n            width={1000}\r\n            onCancel={handleCloseDialogRegister}\r\n            footer={null}\r\n            className=\"modal-dialog-register\"\r\n        >\r\n            <Form\r\n                form={form}\r\n                onFinish={handleSubmitStaffRegister}\r\n                layout=\"vertical\"\r\n            >\r\n                <Tabs className=\"tab-information\" defaultActiveKey=\"1\" tabPosition=\"left\" onChange={onChange}>\r\n                    <TabPane tab=\"HỒ SƠ\" key=\"1\">\r\n                        <FormProfile\r\n                            employeeInfo={staffInfo?.employeeInfo}\r\n                            workExperiencesList={workExperiencesList}\r\n                            setWorkExperiencesList={setWorkExperiencesList}\r\n                            profileInfo\r\n                        />\r\n                    </TabPane>\r\n                    <TabPane tab=\"SƠ YẾU LÝ LỊCH\" key=\"2\">\r\n                        <FormCurriculumVitae\r\n                            data={staffInfo?.employeeInfo}\r\n                            familyRelations={staffInfo?.familyRelations}\r\n                            disabled={false}\r\n                        />\r\n                    </TabPane>\r\n                    <TabPane tab=\"DANH SÁCH VĂN BẰNG\" key=\"3\">\r\n                        <FormDiploma data={staffInfo?.certificates} />\r\n                    </TabPane>\r\n                </Tabs>\r\n                <div className=\"btn-dialog-register\">\r\n                    <Button className=\"btn-save\" htmlType=\"submit\">\r\n                        LƯU\r\n                    </Button>\r\n                    {shouldBtnSendLeader && <Button className=\"btn-register\" onClick={() => openPopupSendLeader()} >\r\n                        TRÌNH LÃNH ĐẠO\r\n                    </Button>}\r\n                    <Button className=\"btn-close\" onClick={handleCloseDialogRegister}>\r\n                        HỦY\r\n                    </Button>\r\n                </div>\r\n\r\n                {shouldOpenPopupSendLeader && (\r\n                    <ModalSendLeader\r\n                        open={shouldOpenPopupSendLeader}\r\n                        employeeId={employeeId}\r\n                        onCancel={handleClosePopupSendLeader}\r\n                        onClose={onClearModal}\r\n                        status={3}\r\n                    />\r\n                )}\r\n            </Form>\r\n        </Modal>\r\n    );\r\n}\r\n\r\nexport default DialogRegister;"]},"metadata":{},"sourceType":"module"}