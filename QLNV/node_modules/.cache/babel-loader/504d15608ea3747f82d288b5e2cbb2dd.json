{"ast":null,"code":"import _toConsumableArray from \"D:\\\\DATA\\\\QL_NV\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"D:\\\\DATA\\\\QL_NV\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"D:\\\\DATA\\\\QL_NV\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\DATA\\\\QL_NV\\\\QLNV\\\\src\\\\app\\\\views\\\\CreateStaff\\\\DialogStaff\\\\TabFamilyRelationship\\\\index.jsx\";\n\nimport { Button, Col, Form, Input, Row, Select } from \"antd\";\nimport React, { useState } from \"react\";\nimport ModalDelete from \"app/views/GeneralSettings/ModalDelete\";\nimport TableFamilyRelationship from \"./TableFamilyRelationship\";\nimport { listGender, maxLength, minLength, number, required, whiteSpace } from \"app/views/GeneralSettings/constant\";\n\nvar TabFamilyRelationShip = function TabFamilyRelationShip(props) {\n  var listRelationship = props.listRelationship,\n      setListRelationship = props.setListRelationship;\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectIndex = _useState2[0],\n      setSelectIndex = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      relationshipId = _useState4[0],\n      setRelationshipId = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      shouldOpenDialogDeleteText = _useState6[0],\n      setShouldOpenDialogDeleteText = _useState6[1];\n\n  var _Form$useForm = Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var onFinish = function onFinish(value) {\n    if (typeof selectIndex === \"number\") {\n      if (!(listRelationship === null || listRelationship === void 0 ? void 0 : listRelationship.familyId)) {\n        var dataUpdate = listRelationship.map(function (item, index) {\n          var itemUpdate = index === selectIndex ? _objectSpread(_objectSpread({}, item), value) : item;\n          return _objectSpread({}, itemUpdate);\n        });\n        setListRelationship(_toConsumableArray(dataUpdate));\n      } else {\n        console.error(\"có lỗi\");\n      }\n    } else {\n      var newItemWithIndex = _objectSpread(_objectSpread({}, value), {}, {\n        index: listRelationship.length.toString()\n      });\n\n      setListRelationship([].concat(_toConsumableArray(listRelationship), [newItemWithIndex]));\n    }\n\n    form.resetFields();\n    setSelectIndex(\"\");\n  };\n\n  var onClickEditFamilyRelationship = function onClickEditFamilyRelationship(record, index) {\n    var _record$dateOfBirth;\n\n    form.setFieldsValue({\n      name: record === null || record === void 0 ? void 0 : record.name,\n      dateOfBirth: record === null || record === void 0 ? void 0 : (_record$dateOfBirth = record.dateOfBirth) === null || _record$dateOfBirth === void 0 ? void 0 : _record$dateOfBirth.split(\" \")[0],\n      gender: record === null || record === void 0 ? void 0 : record.gender,\n      relation: record === null || record === void 0 ? void 0 : record.relation,\n      citizenId: record === null || record === void 0 ? void 0 : record.citizenId,\n      address: record === null || record === void 0 ? void 0 : record.address\n    });\n    setSelectIndex(index);\n  };\n\n  var onClickDeleteFamilyRelationship = function onClickDeleteFamilyRelationship(index, recordFamilyRelationship) {\n    setRelationshipId(recordFamilyRelationship === null || recordFamilyRelationship === void 0 ? void 0 : recordFamilyRelationship.familyId);\n    setShouldOpenDialogDeleteText(true);\n    setSelectIndex(index);\n  };\n\n  var handleDelete = function handleDelete() {\n    if (relationshipId) {\n      setListRelationship(listRelationship.filter(function (item) {\n        return (item === null || item === void 0 ? void 0 : item.familyId) !== relationshipId;\n      }));\n    } else {\n      setListRelationship(listRelationship.filter(function (item) {\n        return (item === null || item === void 0 ? void 0 : item.index) !== selectIndex;\n      }));\n    }\n\n    handleCloseDialogDelete();\n    form.resetFields();\n    setSelectIndex(\"\");\n  };\n\n  var handleCloseDialogDelete = function handleCloseDialogDelete() {\n    setShouldOpenDialogDeleteText(!shouldOpenDialogDeleteText);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tab__family-content\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, shouldOpenDialogDeleteText && /*#__PURE__*/React.createElement(ModalDelete, {\n    open: shouldOpenDialogDeleteText,\n    onOk: handleDelete,\n    onCancel: handleCloseDialogDelete,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Form, {\n    wrapperCol: {\n      span: 24\n    },\n    onFinish: onFinish,\n    layout: \"vertical\",\n    form: form,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 24,\n    style: {\n      boxSizing: \"border-box\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    justify: \"space-between\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    className: \"gutter-row\",\n    span: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"H\\u1ECD v\\xE0 t\\xEAn ng\\u01B0\\u1EDDi th\\xE2n\",\n    name: \"name\",\n    rules: [required, whiteSpace],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    className: \"gutter-row\",\n    span: 5,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"S\\u1ED1 CCCD/CMT\",\n    name: \"citizenId\",\n    rules: [required, number, minLength, maxLength],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    className: \"gutter-row\",\n    span: 5,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Ng\\xE0y sinh\",\n    name: \"dateOfBirth\",\n    rules: [required],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"date\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    className: \"gutter-row\",\n    span: 4,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Quan h\\u1EC7\",\n    name: \"relation\",\n    rules: [required],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    className: \"gutter-row\",\n    span: 4,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"gender\",\n    label: \"Gi\\u1EDBi t\\xEDnh\",\n    rules: [required],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    placeholder: \"Gi\\u1EDBi t\\xEDnh\",\n    fieldNames: {\n      label: \"name\",\n      value: \"value\",\n      options: \"options\"\n    },\n    options: listGender,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    className: \"gutter-row\",\n    span: 16,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"\\u0110\\u1ECBa ch\\u1EC9 c\\u1EE5 th\\u1EC3\",\n    name: \"address\",\n    rules: [required, whiteSpace],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    className: \"gutter-row btn-form\",\n    span: 8,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn-family-relationship\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"btn-add\",\n    htmlType: \"submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 37\n    }\n  }, \"TH\\xCAM\"), /*#__PURE__*/React.createElement(Button, {\n    className: \"btn-reset\",\n    onClick: function onClick() {\n      return form.resetFields();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 37\n    }\n  }, \"L\\xC0M M\\u1EDAI\"))))))), /*#__PURE__*/React.createElement(TableFamilyRelationship, {\n    listGender: listGender,\n    listRelationship: listRelationship,\n    onClickEditFamilyRelationship: onClickEditFamilyRelationship,\n    onClickDeleteFamilyRelationship: onClickDeleteFamilyRelationship,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default TabFamilyRelationShip;","map":{"version":3,"sources":["D:/DATA/QL_NV/QLNV/src/app/views/CreateStaff/DialogStaff/TabFamilyRelationship/index.jsx"],"names":["Button","Col","Form","Input","Row","Select","React","useState","ModalDelete","TableFamilyRelationship","listGender","maxLength","minLength","number","required","whiteSpace","TabFamilyRelationShip","props","listRelationship","setListRelationship","selectIndex","setSelectIndex","relationshipId","setRelationshipId","shouldOpenDialogDeleteText","setShouldOpenDialogDeleteText","useForm","form","onFinish","value","familyId","dataUpdate","map","item","index","itemUpdate","console","error","newItemWithIndex","length","toString","resetFields","onClickEditFamilyRelationship","record","setFieldsValue","name","dateOfBirth","split","gender","relation","citizenId","address","onClickDeleteFamilyRelationship","recordFamilyRelationship","handleDelete","filter","handleCloseDialogDelete","span","boxSizing","label","options"],"mappings":"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","sourcesContent":["import { Button, Col, Form, Input, Row, Select } from \"antd\";\r\nimport React, { useState } from \"react\";\r\n\r\nimport ModalDelete from \"app/views/GeneralSettings/ModalDelete\";\r\nimport TableFamilyRelationship from \"./TableFamilyRelationship\";\r\nimport { listGender, maxLength, minLength, number, required, whiteSpace } from \"app/views/GeneralSettings/constant\";\r\n\r\nconst TabFamilyRelationShip = (props) => {\r\n    const { listRelationship, setListRelationship } = props;\r\n    const [selectIndex, setSelectIndex] = useState();\r\n    const [relationshipId, setRelationshipId] = useState(0);\r\n    const [shouldOpenDialogDeleteText, setShouldOpenDialogDeleteText] = useState(false)\r\n\r\n    const [form] = Form.useForm();\r\n\r\n    const onFinish = (value) => {\r\n\r\n        if (typeof selectIndex === \"number\") {\r\n            if (!listRelationship?.familyId) {\r\n                const dataUpdate = listRelationship.map((item, index) => {\r\n                    const itemUpdate = index === selectIndex ? { ...item, ...value } : item\r\n                    return {\r\n                        ...itemUpdate,\r\n                    };\r\n                });\r\n                setListRelationship([...dataUpdate]);\r\n            } else {\r\n                console.error(\"có lỗi\");\r\n            }\r\n\r\n        }\r\n        else {\r\n            const newItemWithIndex = { ...value, index: listRelationship.length.toString() };\r\n            setListRelationship([\r\n                ...listRelationship,\r\n                newItemWithIndex\r\n            ]);\r\n        }\r\n\r\n        form.resetFields();\r\n        setSelectIndex(\"\")\r\n    };\r\n\r\n    const onClickEditFamilyRelationship = (record, index) => {\r\n        form.setFieldsValue({\r\n            name: record?.name,\r\n            dateOfBirth: record?.dateOfBirth?.split(\" \")[0],\r\n            gender: record?.gender,\r\n            relation: record?.relation,\r\n            citizenId: record?.citizenId,\r\n            address: record?.address\r\n        });\r\n        setSelectIndex(index);\r\n    }\r\n\r\n    const onClickDeleteFamilyRelationship = (index, recordFamilyRelationship) => {\r\n        setRelationshipId(recordFamilyRelationship?.familyId)\r\n        setShouldOpenDialogDeleteText(true)\r\n        setSelectIndex(index)\r\n    }\r\n\r\n    const handleDelete = () => {\r\n        if (relationshipId) {\r\n            setListRelationship(listRelationship.filter((item) => item?.familyId !== relationshipId))\r\n        } else {\r\n            setListRelationship(listRelationship.filter((item) => item?.index !== selectIndex));\r\n        }\r\n        handleCloseDialogDelete();\r\n        form.resetFields();\r\n        setSelectIndex(\"\")\r\n    }\r\n\r\n    const handleCloseDialogDelete = () => {\r\n        setShouldOpenDialogDeleteText(!shouldOpenDialogDeleteText)\r\n    }\r\n\r\n    return (\r\n        <div className=\"tab__family-content\">\r\n            {shouldOpenDialogDeleteText && (\r\n                <ModalDelete\r\n                    open={shouldOpenDialogDeleteText}\r\n                    onOk={handleDelete}\r\n                    onCancel={handleCloseDialogDelete}\r\n                />\r\n            )}\r\n\r\n            <Form\r\n                wrapperCol={{\r\n                    span: 24,\r\n                }}\r\n                onFinish={onFinish}\r\n                layout=\"vertical\"\r\n                form={form}\r\n            >\r\n                <Col span={24} style={{ boxSizing: \"border-box\" }}>\r\n                    <Row justify=\"space-between\" >\r\n                        <Col className=\"gutter-row\" span={6}>\r\n                            <Form.Item\r\n                                label='Họ và tên người thân'\r\n                                name=\"name\"\r\n                                rules={[required, whiteSpace]}\r\n                            >\r\n                                <Input />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col className=\"gutter-row\" span={5}>\r\n                            <Form.Item\r\n                                label='Số CCCD/CMT'\r\n                                name=\"citizenId\"\r\n                                rules={[required, number, minLength, maxLength]}\r\n                            >\r\n                                <Input />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col className=\"gutter-row\" span={5}>\r\n                            <Form.Item\r\n                                label=\"Ngày sinh\"\r\n                                name=\"dateOfBirth\"\r\n                                rules={[\r\n                                    required\r\n                                ]}\r\n                            >\r\n                                <Input type=\"date\" />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col className=\"gutter-row\" span={4}>\r\n                            <Form.Item\r\n                                label='Quan hệ'\r\n                                name=\"relation\"\r\n                                rules={[required]}\r\n                            >\r\n                                <Input />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col className=\"gutter-row\" span={4}>\r\n                            <Form.Item\r\n                                name=\"gender\"\r\n                                label=\"Giới tính\"\r\n                                rules={[required]}\r\n                            >\r\n                                <Select\r\n                                    placeholder=\"Giới tính\"\r\n                                    fieldNames={{ label: \"name\", value: \"value\", options: \"options\" }}\r\n                                    options={listGender}\r\n                                >\r\n                                </Select>\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col className=\"gutter-row\" span={16}>\r\n                            <Form.Item\r\n                                label='Địa chỉ cụ thể'\r\n                                name=\"address\"\r\n                                rules={[required, whiteSpace]}\r\n                            >\r\n                                <Input />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col className=\"gutter-row btn-form\" span={8}>\r\n                            <Form.Item>\r\n                                <div className=\"btn-family-relationship\">\r\n                                    <Button className=\"btn-add\" htmlType=\"submit\">\r\n                                        THÊM\r\n                                    </Button>\r\n                                    <Button className=\"btn-reset\" onClick={() => form.resetFields()}>\r\n                                        LÀM MỚI\r\n                                    </Button>\r\n                                </div>\r\n\r\n                            </Form.Item>\r\n                        </Col>\r\n                    </Row>\r\n                </Col>\r\n            </Form>\r\n\r\n            <TableFamilyRelationship\r\n                listGender={listGender}\r\n                listRelationship={listRelationship}\r\n                onClickEditFamilyRelationship={onClickEditFamilyRelationship}\r\n                onClickDeleteFamilyRelationship={onClickDeleteFamilyRelationship}\r\n            />\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default TabFamilyRelationShip;\r\n"]},"metadata":{},"sourceType":"module"}