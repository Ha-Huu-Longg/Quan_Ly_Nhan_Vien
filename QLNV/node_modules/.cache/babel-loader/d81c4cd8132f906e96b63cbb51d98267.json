{"ast":null,"code":"import _toConsumableArray from \"D:\\\\DATA\\\\QL_NV\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"D:\\\\DATA\\\\QL_NV\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"D:\\\\DATA\\\\QL_NV\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\DATA\\\\QL_NV\\\\QLNV\\\\src\\\\app\\\\views\\\\CreateStaff\\\\DialogStaff\\\\TabDiploma\\\\index.jsx\";\n\nimport { Button, Col, Form, Input, Row } from \"antd\";\nimport React, { useState } from \"react\";\nimport Styled from \"./styled\";\nimport ModalDelete from \"app/views/GeneralSettings/ModalDelete\";\nimport TableDiploma from \"./TableDiploma\";\n\nvar TabDiploma = function TabDiploma(props) {\n  var listDiploma = props.listDiploma,\n      setListDiploma = props.setListDiploma;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      diplomaId = _useState2[0],\n      setDiplomaId = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      selectIndex = _useState4[0],\n      setSelectIndex = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      shouldOpenDialogDeleteText = _useState6[0],\n      setShouldOpenDialogDeleteText = _useState6[1];\n\n  var _Form$useForm = Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var onFinish = function onFinish(value) {\n    if (typeof selectIndex === \"number\") {\n      var dataUpdate = listDiploma.map(function (item, index) {\n        var itemUpdate = index === selectIndex ? _objectSpread(_objectSpread({}, item), value) : item;\n        return _objectSpread({}, itemUpdate);\n      });\n      setListDiploma(_toConsumableArray(dataUpdate));\n    } else {\n      var newItemWithIndex = _objectSpread(_objectSpread({}, value), {}, {\n        index: listDiploma.length.toString()\n      });\n\n      setListDiploma([].concat(_toConsumableArray(listDiploma), [newItemWithIndex]));\n    }\n\n    form.resetFields();\n    setSelectIndex(\"\");\n  };\n\n  var onClickEditTextInfo = function onClickEditTextInfo(record, index) {\n    var _record$issuanceDate;\n\n    form.setFieldsValue({\n      name: record === null || record === void 0 ? void 0 : record.name,\n      content: record === null || record === void 0 ? void 0 : record.content,\n      educationalOrg: record === null || record === void 0 ? void 0 : record.educationalOrg,\n      issuanceDate: record === null || record === void 0 ? void 0 : (_record$issuanceDate = record.issuanceDate) === null || _record$issuanceDate === void 0 ? void 0 : _record$issuanceDate.split(\" \")[0],\n      field: record === null || record === void 0 ? void 0 : record.field\n    });\n    setSelectIndex(index);\n  };\n\n  var onClickDeleteTextInfo = function onClickDeleteTextInfo(recordTextInfo, index) {\n    setDiplomaId(recordTextInfo === null || recordTextInfo === void 0 ? void 0 : recordTextInfo.certificateId);\n    handleCloseDialogDeleteText();\n    setSelectIndex(index);\n  };\n\n  var handleCloseDialogDeleteText = function handleCloseDialogDeleteText() {\n    setShouldOpenDialogDeleteText(!shouldOpenDialogDeleteText);\n  };\n\n  var handleDelete = function handleDelete() {\n    if (diplomaId) {\n      setListDiploma(listDiploma.filter(function (item) {\n        return (item === null || item === void 0 ? void 0 : item.certificateId) !== diplomaId;\n      }));\n    } else {\n      setListDiploma(listDiploma.filter(function (item) {\n        return (item === null || item === void 0 ? void 0 : item.index) !== selectIndex;\n      }));\n    }\n\n    handleCloseDialogDeleteText();\n    form.resetFields();\n  };\n\n  return /*#__PURE__*/React.createElement(Styled, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, shouldOpenDialogDeleteText && /*#__PURE__*/React.createElement(ModalDelete, {\n    open: shouldOpenDialogDeleteText,\n    onCancel: handleCloseDialogDeleteText,\n    onOk: handleDelete,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Form, {\n    wrapperCol: {\n      span: 24\n    },\n    onFinish: onFinish,\n    layout: \"vertical\",\n    form: form,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    className: \"gutter-row\",\n    span: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"T\\xEAn v\\u0103n b\\u1EB1ng\",\n    name: \"name\",\n    rules: [{\n      required: true,\n      message: 'Bắt buộc phải nhập trường này!'\n    }, {\n      whitespace: true,\n      message: 'không được để khoảng trằng trống'\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    className: \"gutter-row\",\n    span: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"N\\u01A1i c\\u1EA5p\",\n    name: \"educationalOrg\",\n    rules: [{\n      required: true,\n      message: 'Bắt buộc phải nhập trường này!'\n    }, {\n      whitespace: true,\n      message: 'không được để khoảng trằng trống'\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    className: \"gutter-row\",\n    span: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Ng\\xE0y c\\u1EA5p\",\n    name: \"issuanceDate\",\n    rules: [{\n      required: true,\n      message: 'Bắt buộc phải nhập trường này!'\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"date\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    className: \"gutter-row\",\n    span: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"L\\u0129nh v\\u1EF1c\",\n    name: \"field\",\n    rules: [{\n      required: true,\n      message: 'Bắt buộc phải nhập trường này!'\n    }, {\n      whitespace: true,\n      message: 'không được để khoảng trằng trống'\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    className: \"gutter-row\",\n    span: 18,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"N\\u1ED9i dung v\\u0103n b\\u1EB1ng\",\n    name: \"content\",\n    rules: [{\n      required: true,\n      message: 'Bắt buộc phải nhập trường này!'\n    }, {\n      whitespace: true,\n      message: 'không được để khoảng trằng trống'\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    className: \"gutter-row btn-form\",\n    span: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn-text-info\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"btn-add\",\n    htmlType: \"submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 33\n    }\n  }, \"TH\\xCAM\"), /*#__PURE__*/React.createElement(Button, {\n    className: \"btn-reset\",\n    onClick: function onClick() {\n      return form.resetFields();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 33\n    }\n  }, \"L\\xC0M M\\u1EDAI\")))))), /*#__PURE__*/React.createElement(TableDiploma, {\n    listDiploma: listDiploma,\n    onClickEditTextInfo: onClickEditTextInfo,\n    onClickDeleteTextInfo: onClickDeleteTextInfo,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default TabDiploma;","map":{"version":3,"sources":["D:/DATA/QL_NV/QLNV/src/app/views/CreateStaff/DialogStaff/TabDiploma/index.jsx"],"names":["Button","Col","Form","Input","Row","React","useState","Styled","ModalDelete","TableDiploma","TabDiploma","props","listDiploma","setListDiploma","diplomaId","setDiplomaId","selectIndex","setSelectIndex","shouldOpenDialogDeleteText","setShouldOpenDialogDeleteText","useForm","form","onFinish","value","dataUpdate","map","item","index","itemUpdate","newItemWithIndex","length","toString","resetFields","onClickEditTextInfo","record","setFieldsValue","name","content","educationalOrg","issuanceDate","split","field","onClickDeleteTextInfo","recordTextInfo","certificateId","handleCloseDialogDeleteText","handleDelete","filter","span","required","message","whitespace"],"mappings":"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","sourcesContent":["\r\nimport { Button, Col, Form, Input, Row } from \"antd\";\r\nimport React, { useState } from \"react\";\r\nimport Styled from \"./styled\";\r\nimport ModalDelete from \"app/views/GeneralSettings/ModalDelete\";\r\nimport TableDiploma from \"./TableDiploma\";\r\n\r\nconst TabDiploma = (props) => {\r\n    const { listDiploma, setListDiploma } = props;\r\n    const [diplomaId, setDiplomaId] = useState(0);\r\n    const [selectIndex, setSelectIndex] = useState();\r\n    const [shouldOpenDialogDeleteText, setShouldOpenDialogDeleteText] = useState(false);\r\n\r\n    const [form] = Form.useForm();\r\n\r\n    const onFinish = (value) => {\r\n        if (typeof selectIndex === \"number\") {\r\n            const dataUpdate = listDiploma.map((item, index) => {\r\n                const itemUpdate = index === selectIndex ? { ...item, ...value } : item\r\n                return {\r\n                    ...itemUpdate,\r\n                };\r\n            });\r\n            setListDiploma([...dataUpdate]);\r\n        }\r\n        else {\r\n            const newItemWithIndex = { ...value, index: listDiploma.length.toString() };\r\n            setListDiploma([\r\n                ...listDiploma,\r\n                newItemWithIndex\r\n            ]);\r\n        }\r\n\r\n        form.resetFields();\r\n        setSelectIndex(\"\")\r\n    };\r\n\r\n    const onClickEditTextInfo = (record, index) => {\r\n        form.setFieldsValue({\r\n            name: record?.name,\r\n            content: record?.content,\r\n            educationalOrg: record?.educationalOrg,\r\n            issuanceDate: record?.issuanceDate?.split(\" \")[0],\r\n            field: record?.field\r\n        });\r\n        setSelectIndex(index);\r\n    };\r\n\r\n    const onClickDeleteTextInfo = (recordTextInfo, index) => {\r\n        setDiplomaId(recordTextInfo?.certificateId)\r\n        handleCloseDialogDeleteText()\r\n        setSelectIndex(index);\r\n    }\r\n\r\n    const handleCloseDialogDeleteText = () => {\r\n        setShouldOpenDialogDeleteText(!shouldOpenDialogDeleteText)\r\n    }\r\n\r\n    const handleDelete = () => {\r\n        if (diplomaId) {\r\n            setListDiploma(listDiploma.filter((item) => item?.certificateId !== diplomaId))\r\n        } else {\r\n            setListDiploma(listDiploma.filter((item) => item?.index !== selectIndex));\r\n        }\r\n        handleCloseDialogDeleteText();\r\n        form.resetFields();\r\n    }\r\n\r\n    return (\r\n        <Styled>\r\n            {shouldOpenDialogDeleteText && (\r\n                <ModalDelete\r\n                    open={shouldOpenDialogDeleteText}\r\n                    onCancel={handleCloseDialogDeleteText}\r\n                    onOk={handleDelete}\r\n                />\r\n            )}\r\n\r\n            <Form\r\n                wrapperCol={{\r\n                    span: 24,\r\n                }}\r\n                onFinish={onFinish}\r\n                layout=\"vertical\"\r\n                form={form}\r\n            >\r\n                <Row>\r\n                    <Col className=\"gutter-row\" span={6}>\r\n                        <Form.Item\r\n                            label='Tên văn bằng'\r\n                            name=\"name\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: 'Bắt buộc phải nhập trường này!',\r\n                                },\r\n                                { whitespace: true, message: 'không được để khoảng trằng trống' },\r\n                            ]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col className=\"gutter-row\" span={6}>\r\n                        <Form.Item\r\n                            label='Nơi cấp'\r\n                            name=\"educationalOrg\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: 'Bắt buộc phải nhập trường này!',\r\n                                },\r\n                                { whitespace: true, message: 'không được để khoảng trằng trống' },\r\n                            ]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col className=\"gutter-row\" span={6}>\r\n                        <Form.Item\r\n                            label=\"Ngày cấp\"\r\n                            name=\"issuanceDate\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: 'Bắt buộc phải nhập trường này!',\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input type=\"date\" />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col className=\"gutter-row\" span={6}>\r\n                        <Form.Item\r\n                            label='Lĩnh vực'\r\n                            name=\"field\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: 'Bắt buộc phải nhập trường này!',\r\n                                },\r\n                                { whitespace: true, message: 'không được để khoảng trằng trống' },\r\n                            ]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col className=\"gutter-row\" span={18}>\r\n                        <Form.Item\r\n                            label='Nội dung văn bằng'\r\n                            name=\"content\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: 'Bắt buộc phải nhập trường này!',\r\n                                },\r\n                                { whitespace: true, message: 'không được để khoảng trằng trống' },\r\n                            ]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col className=\"gutter-row btn-form\" span={6}>\r\n                        <Form.Item>\r\n                            <div className=\"btn-text-info\">\r\n                                <Button className=\"btn-add\" htmlType=\"submit\">\r\n                                    THÊM\r\n                                </Button>\r\n                                <Button className=\"btn-reset\" onClick={() => form.resetFields()}>\r\n                                    LÀM MỚI\r\n                                </Button>\r\n                            </div>\r\n\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n\r\n            <TableDiploma\r\n                listDiploma={listDiploma}\r\n                onClickEditTextInfo={onClickEditTextInfo}\r\n                onClickDeleteTextInfo={onClickDeleteTextInfo}\r\n            />\r\n        </Styled>\r\n    )\r\n}\r\nexport default TabDiploma;"]},"metadata":{},"sourceType":"module"}