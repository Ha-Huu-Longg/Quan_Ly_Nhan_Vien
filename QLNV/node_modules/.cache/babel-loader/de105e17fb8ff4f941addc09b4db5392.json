{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\DATA\\\\QL_NV\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(getStaffListSaga),\n    _marked2 = /*#__PURE__*/_regeneratorRuntime.mark(getTotalSaga),\n    _marked3 = /*#__PURE__*/_regeneratorRuntime.mark(getStaffByIdSaga),\n    _marked4 = /*#__PURE__*/_regeneratorRuntime.mark(getFormStaffSaga),\n    _marked5 = /*#__PURE__*/_regeneratorRuntime.mark(getEmployeeByIdSaga),\n    _marked6 = /*#__PURE__*/_regeneratorRuntime.mark(updateEndEmployeeSaga),\n    _marked7 = /*#__PURE__*/_regeneratorRuntime.mark(sendLeaderSaga),\n    _marked8 = /*#__PURE__*/_regeneratorRuntime.mark(employeeSaga);\n\nimport { all, call, put, takeLatest } from 'redux-saga/effects';\nimport { getEmployeeById, updateStatusEndEmployee } from 'app/views/UpdateHappenings/UpdateHappeningsService';\nimport { getEmployeeByIdSuccess, updateEndEmployeeSuccess } from '../actions/UpdateHappeningsActions';\nimport { getFormStaff, getStaffById, getStaffLList, getTotalItem } from 'app/views/CreateStaff/CreateStaffService';\nimport { getListStaffSuccess, getTotalStaffSuccess, getFormStaffSuccess, getStaffByIdSuccess } from '../actions/CreateStaffAction';\nimport leaderSaga from './LeaderSaga';\nimport salarySaga from './SalarySaga';\nimport promotedSaga from './PromotedSaga';\nimport proposedSaga from './ProposedSaga';\nimport endStaffSaga from './EndStaffSaga';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport createStaffSaga from './CreateStaffSaga';\nimport { sendLeaderStaff } from 'app/views/CreateStaff/CreateStaffService';\nimport { sendLeaderSuccess } from '../actions/CreateStaffAction';\nimport { resCode } from 'app/views/GeneralSettings/constant';\ntoast.configure({\n  autoClose: 2000,\n  draggable: false,\n  limit: 3,\n  closeOnClick: true\n});\n\nfunction getStaffListSaga(action) {\n  var data;\n  return _regeneratorRuntime.wrap(function getStaffListSaga$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return call(function () {\n            return getStaffLList(action.payload, action.pageSize, action.statuses).then(function (res) {\n              var _res$data;\n\n              return res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.data;\n            });\n          });\n\n        case 3:\n          data = _context.sent;\n          _context.next = 6;\n          return put(getListStaffSuccess(data));\n\n        case 6:\n          _context.next = 11;\n          break;\n\n        case 8:\n          _context.prev = 8;\n          _context.t0 = _context[\"catch\"](0);\n          console.error('err', _context.t0);\n\n        case 11:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, null, [[0, 8]]);\n}\n\nfunction getTotalSaga(action) {\n  var data;\n  return _regeneratorRuntime.wrap(function getTotalSaga$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return call(function () {\n            return getTotalItem(action.payload).then(function (res) {\n              var _res$data2;\n\n              return res === null || res === void 0 ? void 0 : (_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.data;\n            });\n          });\n\n        case 3:\n          data = _context2.sent;\n          _context2.next = 6;\n          return put(getTotalStaffSuccess(data));\n\n        case 6:\n          _context2.next = 11;\n          break;\n\n        case 8:\n          _context2.prev = 8;\n          _context2.t0 = _context2[\"catch\"](0);\n          console.error('err', _context2.t0);\n\n        case 11:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2, null, [[0, 8]]);\n}\n\nfunction getStaffByIdSaga(action) {\n  var data;\n  return _regeneratorRuntime.wrap(function getStaffByIdSaga$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return call(function () {\n            return getStaffById(action.payload).then(function (res) {\n              var _res$data3;\n\n              return res === null || res === void 0 ? void 0 : (_res$data3 = res.data) === null || _res$data3 === void 0 ? void 0 : _res$data3.data;\n            });\n          });\n\n        case 3:\n          data = _context3.sent;\n          _context3.next = 6;\n          return put(getStaffByIdSuccess(data));\n\n        case 6:\n          _context3.next = 11;\n          break;\n\n        case 8:\n          _context3.prev = 8;\n          _context3.t0 = _context3[\"catch\"](0);\n          console.error('err', _context3.t0);\n\n        case 11:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3, null, [[0, 8]]);\n}\n\nfunction getFormStaffSaga(action) {\n  var data;\n  return _regeneratorRuntime.wrap(function getFormStaffSaga$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          _context4.next = 3;\n          return call(function () {\n            return getFormStaff(action.payload).then(function (res) {\n              if ((res === null || res === void 0 ? void 0 : res.data.code) === resCode.success) {\n                var _res$data4;\n\n                return res === null || res === void 0 ? void 0 : (_res$data4 = res.data) === null || _res$data4 === void 0 ? void 0 : _res$data4.data;\n              } else {\n                toast.error(res === null || res === void 0 ? void 0 : res.data.message);\n              }\n            });\n          });\n\n        case 3:\n          data = _context4.sent;\n          _context4.next = 6;\n          return put(getFormStaffSuccess(data));\n\n        case 6:\n          _context4.next = 11;\n          break;\n\n        case 8:\n          _context4.prev = 8;\n          _context4.t0 = _context4[\"catch\"](0);\n          console.error('err', _context4.t0);\n\n        case 11:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, _marked4, null, [[0, 8]]);\n}\n\nfunction getEmployeeByIdSaga(action) {\n  var data;\n  return _regeneratorRuntime.wrap(function getEmployeeByIdSaga$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.prev = 0;\n          _context5.next = 3;\n          return call(function () {\n            return getEmployeeById(action.payload).then(function (res) {\n              if ((res === null || res === void 0 ? void 0 : res.data.code) === resCode.success) {\n                var _res$data5;\n\n                return res === null || res === void 0 ? void 0 : (_res$data5 = res.data) === null || _res$data5 === void 0 ? void 0 : _res$data5.data;\n              }\n            });\n          });\n\n        case 3:\n          data = _context5.sent;\n          _context5.next = 6;\n          return put(getEmployeeByIdSuccess(data));\n\n        case 6:\n          _context5.next = 11;\n          break;\n\n        case 8:\n          _context5.prev = 8;\n          _context5.t0 = _context5[\"catch\"](0);\n          console.error('err', _context5.t0);\n\n        case 11:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, _marked5, null, [[0, 8]]);\n}\n\nfunction updateEndEmployeeSaga(action) {\n  var data;\n  return _regeneratorRuntime.wrap(function updateEndEmployeeSaga$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.prev = 0;\n          _context6.next = 3;\n          return call(function () {\n            return updateStatusEndEmployee(action.payload).then(function (res) {\n              if ((res === null || res === void 0 ? void 0 : res.data.code) === resCode.success) {\n                toast.success('Trình lãnh đạo thành công');\n                action.handleClose();\n                action.openUpdateStatus();\n                return res === null || res === void 0 ? void 0 : res.data;\n              } else {\n                toast.error(\"Ch\\u1EC9 tr\\xECnh v\\u1EDBi tr\\u1EA1ng th\\xE1i \\\"\\u0110\\xE3 duy\\u1EC7t\\\"\");\n              }\n            });\n          });\n\n        case 3:\n          data = _context6.sent;\n          _context6.next = 6;\n          return put(updateEndEmployeeSuccess(data));\n\n        case 6:\n          _context6.next = 11;\n          break;\n\n        case 8:\n          _context6.prev = 8;\n          _context6.t0 = _context6[\"catch\"](0);\n          console.error('err', _context6.t0);\n\n        case 11:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  }, _marked6, null, [[0, 8]]);\n}\n\nfunction sendLeaderSaga(action) {\n  var data;\n  return _regeneratorRuntime.wrap(function sendLeaderSaga$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          _context7.prev = 0;\n          _context7.next = 3;\n          return call(function () {\n            return sendLeaderStaff(action.payload).then(function (res) {\n              if ((res === null || res === void 0 ? void 0 : res.data.code) === resCode.success) {\n                toast.success('Trình lãnh đạo thành công');\n                action.onClose();\n                return res === null || res === void 0 ? void 0 : res.data;\n              } else {\n                toast.error(\"L\\u1ED7i xung \\u0111\\u1ED9t d\\u1EEF li\\u1EC7u!\");\n              }\n            });\n          });\n\n        case 3:\n          data = _context7.sent;\n          _context7.next = 6;\n          return put(sendLeaderSuccess(data));\n\n        case 6:\n          _context7.next = 11;\n          break;\n\n        case 8:\n          _context7.prev = 8;\n          _context7.t0 = _context7[\"catch\"](0);\n          console.error('err', _context7.t0);\n\n        case 11:\n        case \"end\":\n          return _context7.stop();\n      }\n    }\n  }, _marked7, null, [[0, 8]]);\n}\n\nfunction employeeSaga() {\n  return _regeneratorRuntime.wrap(function employeeSaga$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          _context8.next = 2;\n          return takeLatest('GET_LIST_STAFF', getStaffListSaga);\n\n        case 2:\n          _context8.next = 4;\n          return takeLatest('GET_TOTAL_STAFF', getTotalSaga);\n\n        case 4:\n          _context8.next = 6;\n          return takeLatest('GET_FORM_STAFF', getFormStaffSaga);\n\n        case 6:\n          _context8.next = 8;\n          return takeLatest('GET_STAFF_BY_ID', getStaffByIdSaga);\n\n        case 8:\n          _context8.next = 10;\n          return takeLatest('GET_EMPLOYEE_BY_ID', getEmployeeByIdSaga);\n\n        case 10:\n          _context8.next = 12;\n          return takeLatest('UPDATE_END_STATUS', updateEndEmployeeSaga);\n\n        case 12:\n          _context8.next = 14;\n          return takeLatest('SEND_LEADER', sendLeaderSaga);\n\n        case 14:\n          _context8.next = 16;\n          return all([createStaffSaga(), endStaffSaga(), leaderSaga(), salarySaga(), promotedSaga(), proposedSaga()]);\n\n        case 16:\n        case \"end\":\n          return _context8.stop();\n      }\n    }\n  }, _marked8);\n}\n\nexport default employeeSaga;","map":{"version":3,"sources":["D:/DATA/QL_NV/QLNV/src/app/redux/sagas/index.js"],"names":["getStaffListSaga","getTotalSaga","getStaffByIdSaga","getFormStaffSaga","getEmployeeByIdSaga","updateEndEmployeeSaga","sendLeaderSaga","employeeSaga","all","call","put","takeLatest","getEmployeeById","updateStatusEndEmployee","getEmployeeByIdSuccess","updateEndEmployeeSuccess","getFormStaff","getStaffById","getStaffLList","getTotalItem","getListStaffSuccess","getTotalStaffSuccess","getFormStaffSuccess","getStaffByIdSuccess","leaderSaga","salarySaga","promotedSaga","proposedSaga","endStaffSaga","toast","createStaffSaga","sendLeaderStaff","sendLeaderSuccess","resCode","configure","autoClose","draggable","limit","closeOnClick","action","payload","pageSize","statuses","then","res","data","console","error","code","success","message","handleClose","openUpdateStatus","onClose"],"mappings":"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","sourcesContent":["import { all, call, put, takeLatest } from 'redux-saga/effects';\r\nimport { getEmployeeById, updateStatusEndEmployee } from 'app/views/UpdateHappenings/UpdateHappeningsService';\r\nimport { getEmployeeByIdSuccess, updateEndEmployeeSuccess } from '../actions/UpdateHappeningsActions';\r\nimport { getFormStaff, getStaffById, getStaffLList, getTotalItem } from 'app/views/CreateStaff/CreateStaffService';\r\nimport { getListStaffSuccess, getTotalStaffSuccess, getFormStaffSuccess, getStaffByIdSuccess } from '../actions/CreateStaffAction';\r\nimport leaderSaga from './LeaderSaga';\r\nimport salarySaga from './SalarySaga';\r\nimport promotedSaga from './PromotedSaga';\r\nimport proposedSaga from './ProposedSaga';\r\nimport endStaffSaga from './EndStaffSaga';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport createStaffSaga from './CreateStaffSaga';\r\nimport { sendLeaderStaff } from 'app/views/CreateStaff/CreateStaffService';\r\nimport { sendLeaderSuccess } from '../actions/CreateStaffAction';\r\nimport { resCode } from 'app/views/GeneralSettings/constant';\r\n\r\ntoast.configure({\r\n    autoClose: 2000,\r\n    draggable: false,\r\n    limit: 3,\r\n    closeOnClick: true,\r\n});\r\n\r\nfunction* getStaffListSaga(action) {\r\n    try {\r\n        const data = yield call(() =>\r\n            getStaffLList(action.payload, action.pageSize, action.statuses).then((res) => {\r\n                return res?.data?.data;\r\n            }),\r\n        );\r\n        yield put(getListStaffSuccess(data));\r\n    } catch (error) {\r\n        console.error('err', error);\r\n    }\r\n}\r\n\r\nfunction* getTotalSaga(action) {\r\n    try {\r\n        const data = yield call(() =>\r\n            getTotalItem(action.payload).then((res) => {\r\n                return res?.data?.data;\r\n            }),\r\n        );\r\n        yield put(getTotalStaffSuccess(data));\r\n    } catch (error) {\r\n        console.error('err', error);\r\n    }\r\n}\r\n\r\nfunction* getStaffByIdSaga(action) {\r\n    try {\r\n        const data = yield call(() =>\r\n            getStaffById(action.payload).then((res) => {\r\n                return res?.data?.data;\r\n            }),\r\n        );\r\n        yield put(getStaffByIdSuccess(data));\r\n    } catch (error) {\r\n        console.error('err', error);\r\n    }\r\n}\r\n\r\nfunction* getFormStaffSaga(action) {\r\n    try {\r\n        const data = yield call(() =>\r\n            getFormStaff(action.payload).then((res) => {\r\n                if (res?.data.code === resCode.success) {\r\n                    return res?.data?.data;\r\n                } else {\r\n                    toast.error(res?.data.message);\r\n                }\r\n            }),\r\n        );\r\n        yield put(getFormStaffSuccess(data));\r\n    } catch (error) {\r\n        console.error('err', error);\r\n    }\r\n}\r\n\r\nfunction* getEmployeeByIdSaga(action) {\r\n    try {\r\n        const data = yield call(() =>\r\n            getEmployeeById(action.payload).then((res) => {\r\n                if (res?.data.code === resCode.success) {\r\n                    return res?.data?.data;\r\n                }\r\n            }),\r\n        );\r\n        yield put(getEmployeeByIdSuccess(data));\r\n    } catch (error) {\r\n        console.error('err', error);\r\n    }\r\n}\r\n\r\nfunction* updateEndEmployeeSaga(action) {\r\n    try {\r\n        const data = yield call(() =>\r\n            updateStatusEndEmployee(action.payload).then((res) => {\r\n                if (res?.data.code === resCode.success) {\r\n                    toast.success('Trình lãnh đạo thành công');\r\n                    action.handleClose();\r\n                    action.openUpdateStatus();\r\n                    return res?.data;\r\n                } else {\r\n                    toast.error(`Chỉ trình với trạng thái \"Đã duyệt\"`);\r\n                }\r\n            }),\r\n        );\r\n        yield put(updateEndEmployeeSuccess(data));\r\n    } catch (error) {\r\n        console.error('err', error);\r\n    }\r\n}\r\n\r\nfunction* sendLeaderSaga(action) {\r\n    try {\r\n        const data = yield call(() =>\r\n            sendLeaderStaff(action.payload).then((res) => {\r\n                if (res?.data.code === resCode.success) {\r\n                    toast.success('Trình lãnh đạo thành công');\r\n                    action.onClose();\r\n                    return res?.data;\r\n                } else {\r\n                    toast.error(`Lỗi xung đột dữ liệu!`);\r\n                }\r\n            }),\r\n        );\r\n        yield put(sendLeaderSuccess(data));\r\n    } catch (error) {\r\n        console.error('err', error);\r\n    }\r\n}\r\n\r\nfunction* employeeSaga() {\r\n    yield takeLatest('GET_LIST_STAFF', getStaffListSaga);\r\n    yield takeLatest('GET_TOTAL_STAFF', getTotalSaga);\r\n    yield takeLatest('GET_FORM_STAFF', getFormStaffSaga);\r\n    yield takeLatest('GET_STAFF_BY_ID', getStaffByIdSaga);\r\n    yield takeLatest('GET_EMPLOYEE_BY_ID', getEmployeeByIdSaga);\r\n    yield takeLatest('UPDATE_END_STATUS', updateEndEmployeeSaga);\r\n    yield takeLatest('SEND_LEADER', sendLeaderSaga);\r\n    yield all([createStaffSaga(), endStaffSaga(), leaderSaga(), salarySaga(), promotedSaga(), proposedSaga()]);\r\n}\r\n\r\nexport default employeeSaga;\r\n"]},"metadata":{},"sourceType":"module"}