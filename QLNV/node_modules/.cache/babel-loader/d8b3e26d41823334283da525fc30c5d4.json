{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\DATA\\\\QL_NV\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(updateStatusEndStaffSaga),\n    _marked2 = /*#__PURE__*/_regeneratorRuntime.mark(endStaffSaga);\n\nimport { call, put, takeLatest } from 'redux-saga/effects';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { updateListStaff } from 'app/views/EndStaff/EndStaffService';\nimport { updateStatusEndStaffSuccess } from '../actions/EndStaffActions';\nimport { resCode } from 'app/views/GeneralSettings/constant';\ntoast.configure({\n  autoClose: 2000,\n  draggable: false,\n  limit: 3,\n  closeOnClick: true\n});\n\nfunction updateStatusEndStaffSaga(action) {\n  var data;\n  return _regeneratorRuntime.wrap(function updateStatusEndStaffSaga$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return call(function () {\n            return updateListStaff(action.payload).then(function (res) {\n              if ((res === null || res === void 0 ? void 0 : res.data.code) === resCode.success) {\n                var _res$data;\n\n                toast.success('Lưu hồ sơ thành công');\n                action.handleClose();\n                return res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.data;\n              } else {\n                toast.error(res === null || res === void 0 ? void 0 : res.data.message);\n              }\n            });\n          });\n\n        case 3:\n          data = _context.sent;\n          _context.next = 6;\n          return put(updateStatusEndStaffSuccess(data));\n\n        case 6:\n          _context.next = 11;\n          break;\n\n        case 8:\n          _context.prev = 8;\n          _context.t0 = _context[\"catch\"](0);\n          console.error('err', _context.t0);\n\n        case 11:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, null, [[0, 8]]);\n}\n\nfunction endStaffSaga() {\n  return _regeneratorRuntime.wrap(function endStaffSaga$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return takeLatest('UPDATE_STATUS_END_STAFF', updateStatusEndStaffSaga);\n\n        case 2:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2);\n}\n\nexport default endStaffSaga;","map":{"version":3,"sources":["D:/DATA/QL_NV/QLNV/src/app/redux/sagas/EndStaffSaga.js"],"names":["updateStatusEndStaffSaga","endStaffSaga","call","put","takeLatest","toast","updateListStaff","updateStatusEndStaffSuccess","resCode","configure","autoClose","draggable","limit","closeOnClick","action","payload","then","res","data","code","success","handleClose","error","message","console"],"mappings":";;oDAaUA,wB;qDAmBAC,Y;;AAhCV,SAASC,IAAT,EAAeC,GAAf,EAAoBC,UAApB,QAAsC,oBAAtC;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,OAAO,uCAAP;AACA,SAASC,eAAT,QAAgC,oCAAhC;AACA,SAASC,2BAAT,QAA4C,4BAA5C;AACA,SAASC,OAAT,QAAwB,oCAAxB;AACAH,KAAK,CAACI,SAAN,CAAgB;AACZC,EAAAA,SAAS,EAAE,IADC;AAEZC,EAAAA,SAAS,EAAE,KAFC;AAGZC,EAAAA,KAAK,EAAE,CAHK;AAIZC,EAAAA,YAAY,EAAE;AAJF,CAAhB;;AAOA,SAAUb,wBAAV,CAAmCc,MAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEqB,iBAAMZ,IAAI,CAAC;AAAA,mBACpBI,eAAe,CAACQ,MAAM,CAACC,OAAR,CAAf,CAAgCC,IAAhC,CAAqC,UAACC,GAAD,EAAS;AAC1C,kBAAI,CAAAA,GAAG,SAAH,IAAAA,GAAG,WAAH,YAAAA,GAAG,CAAEC,IAAL,CAAUC,IAAV,MAAmBX,OAAO,CAACY,OAA/B,EAAwC;AAAA;;AACpCf,gBAAAA,KAAK,CAACe,OAAN,CAAc,sBAAd;AACAN,gBAAAA,MAAM,CAACO,WAAP;AACA,uBAAOJ,GAAP,aAAOA,GAAP,oCAAOA,GAAG,CAAEC,IAAZ,8CAAO,UAAWA,IAAlB;AACH,eAJD,MAIO;AACHb,gBAAAA,KAAK,CAACiB,KAAN,CAAYL,GAAZ,aAAYA,GAAZ,uBAAYA,GAAG,CAAEC,IAAL,CAAUK,OAAtB;AACH;AACJ,aARD,CADoB;AAAA,WAAD,CAAV;;AAFrB;AAEcL,UAAAA,IAFd;AAAA;AAaQ,iBAAMf,GAAG,CAACI,2BAA2B,CAACW,IAAD,CAA5B,CAAT;;AAbR;AAAA;AAAA;;AAAA;AAAA;AAAA;AAeQM,UAAAA,OAAO,CAACF,KAAR,CAAc,KAAd;;AAfR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAmBA,SAAUrB,YAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AACI,iBAAMG,UAAU,CAAC,yBAAD,EAA4BJ,wBAA5B,CAAhB;;AADJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAIA,eAAeC,YAAf","sourcesContent":["import { call, put, takeLatest } from 'redux-saga/effects';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { updateListStaff } from 'app/views/EndStaff/EndStaffService';\r\nimport { updateStatusEndStaffSuccess } from '../actions/EndStaffActions';\r\nimport { resCode } from 'app/views/GeneralSettings/constant';\r\ntoast.configure({\r\n    autoClose: 2000,\r\n    draggable: false,\r\n    limit: 3,\r\n    closeOnClick: true,\r\n});\r\n\r\nfunction* updateStatusEndStaffSaga(action) {\r\n    try {\r\n        const data = yield call(() =>\r\n            updateListStaff(action.payload).then((res) => {\r\n                if (res?.data.code === resCode.success) {\r\n                    toast.success('Lưu hồ sơ thành công');\r\n                    action.handleClose();\r\n                    return res?.data?.data;\r\n                } else {\r\n                    toast.error(res?.data.message);\r\n                }\r\n            }),\r\n        );\r\n        yield put(updateStatusEndStaffSuccess(data));\r\n    } catch (error) {\r\n        console.error('err', error);\r\n    }\r\n}\r\n\r\nfunction* endStaffSaga() {\r\n    yield takeLatest('UPDATE_STATUS_END_STAFF', updateStatusEndStaffSaga);\r\n}\r\n\r\nexport default endStaffSaga;\r\n"]},"metadata":{},"sourceType":"module"}